package org . eclipse . ui . externaltools . internal . program . launchConfigurations ; import org . eclipse . core . resources . IFile ; import org . eclipse . core . resources . ResourcesPlugin ; import org . eclipse . jface . viewers . IStructuredSelection ; import org . eclipse . swt . widgets . Composite ; import org . eclipse . ui . PlatformUI ; import org . eclipse . ui . externaltools . internal . launchConfigurations . ExternalToolsMainTab ; import org . eclipse . ui . externaltools . internal . model . IExternalToolsHelpContextIds ; import org . eclipse . ui . externaltools . internal . ui . FileSelectionDialog ; public class ProgramMainTab extends ExternalToolsMainTab { @Override protected void handleWorkspaceLocationButtonSelected ( ) { FileSelectionDialog dialog ; dialog = new FileSelectionDialog ( getShell ( ) , ResourcesPlugin . getWorkspace ( ) . getRoot ( ) , ExternalToolsProgramMessages . ProgramMainTab_Select ) ; dialog . open ( ) ; IStructuredSelection result = dialog . getResult ( ) ; if ( result = = null ) { return ; } Object file = result . getFirstElement ( ) ; if ( file instanceof IFile ) { StringBuffer expression = new StringBuffer ( ) ; expression . append ( <str> ) ; expression . append ( ( ( IFile ) file ) . getFullPath ( ) . toString ( ) ) ; expression . append ( <str> ) ; locationField . setText ( expression . toString ( ) ) ; } } @Override public void createControl ( Composite parent ) { super . createControl ( parent ) ; PlatformUI . getWorkbench ( ) . getHelpSystem ( ) . setHelp ( getControl ( ) , IExternalToolsHelpContextIds . EXTERNAL_TOOLS_LAUNCH_CONFIGURATION_DIALOG_PROGRAM_MAIN_TAB ) ; } } 
