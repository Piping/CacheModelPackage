package org . elasticsearch . action . search ; import org . elasticsearch . action . ActionRequestBuilder ; import org . elasticsearch . action . support . IndicesOptions ; import org . elasticsearch . client . ElasticsearchClient ; import org . elasticsearch . common . Nullable ; import org . elasticsearch . common . unit . TimeValue ; import org . elasticsearch . index . query . QueryBuilder ; import org . elasticsearch . script . Script ; import org . elasticsearch . script . Template ; import org . elasticsearch . search . Scroll ; import org . elasticsearch . search . aggregations . AbstractAggregationBuilder ; import org . elasticsearch . search . builder . SearchSourceBuilder ; import org . elasticsearch . search . fetch . innerhits . InnerHitsBuilder ; import org . elasticsearch . search . highlight . HighlightBuilder ; import org . elasticsearch . search . rescore . RescoreBuilder ; import org . elasticsearch . search . sort . SortBuilder ; import org . elasticsearch . search . sort . SortOrder ; import org . elasticsearch . search . suggest . SuggestBuilder ; import java . util . Arrays ; import java . util . List ; public class SearchRequestBuilder extends ActionRequestBuilder < SearchRequest , SearchResponse , SearchRequestBuilder > { public SearchRequestBuilder ( ElasticsearchClient client , SearchAction action ) { super ( client , action , new SearchRequest ( ) ) ; } public SearchRequestBuilder setIndices ( String . . . indices ) { request . indices ( indices ) ; return this ; } public SearchRequestBuilder setTypes ( String . . . types ) { request . types ( types ) ; return this ; } public SearchRequestBuilder setSearchType ( SearchType searchType ) { request . searchType ( searchType ) ; return this ; } public SearchRequestBuilder setSearchType ( String searchType ) { request . searchType ( searchType ) ; return this ; } public SearchRequestBuilder setScroll ( Scroll scroll ) { request . scroll ( scroll ) ; return this ; } public SearchRequestBuilder setScroll ( TimeValue keepAlive ) { request . scroll ( keepAlive ) ; return this ; } public SearchRequestBuilder setScroll ( String keepAlive ) { request . scroll ( keepAlive ) ; return this ; } public SearchRequestBuilder setTimeout ( TimeValue timeout ) { sourceBuilder ( ) . timeout ( timeout ) ; return this ; } public SearchRequestBuilder setTerminateAfter ( int terminateAfter ) { sourceBuilder ( ) . terminateAfter ( terminateAfter ) ; return this ; } public SearchRequestBuilder setRouting ( String routing ) { request . routing ( routing ) ; return this ; } public SearchRequestBuilder setRouting ( String . . . routing ) { request . routing ( routing ) ; return this ; } public SearchRequestBuilder setPreference ( String preference ) { request . preference ( preference ) ; return this ; } public SearchRequestBuilder setIndicesOptions ( IndicesOptions indicesOptions ) { request ( ) . indicesOptions ( indicesOptions ) ; return this ; } public SearchRequestBuilder setQuery ( QueryBuilder < ? > queryBuilder ) { sourceBuilder ( ) . query ( queryBuilder ) ; return this ; } public SearchRequestBuilder setPostFilter ( QueryBuilder < ? > postFilter ) { sourceBuilder ( ) . postFilter ( postFilter ) ; return this ; } public SearchRequestBuilder setMinScore ( float minScore ) { sourceBuilder ( ) . minScore ( minScore ) ; return this ; } public SearchRequestBuilder setFrom ( int from ) { sourceBuilder ( ) . from ( from ) ; return this ; } public SearchRequestBuilder setSize ( int size ) { sourceBuilder ( ) . size ( size ) ; return this ; } public SearchRequestBuilder setExplain ( boolean explain ) { sourceBuilder ( ) . explain ( explain ) ; return this ; } public SearchRequestBuilder setVersion ( boolean version ) { sourceBuilder ( ) . version ( version ) ; return this ; } public SearchRequestBuilder addIndexBoost ( String index , float indexBoost ) { sourceBuilder ( ) . indexBoost ( index , indexBoost ) ; return this ; } public SearchRequestBuilder setStats ( String . . . statsGroups ) { sourceBuilder ( ) . stats ( Arrays . asList ( statsGroups ) ) ; return this ; } public SearchRequestBuilder setStats ( List < String > statsGroups ) { sourceBuilder ( ) . stats ( statsGroups ) ; return this ; } public SearchRequestBuilder setNoFields ( ) { sourceBuilder ( ) . noFields ( ) ; return this ; } public SearchRequestBuilder setFetchSource ( boolean fetch ) { sourceBuilder ( ) . fetchSource ( fetch ) ; return this ; } public SearchRequestBuilder setFetchSource ( @Nullable String include , @Nullable String exclude ) { sourceBuilder ( ) . fetchSource ( include , exclude ) ; return this ; } public SearchRequestBuilder setFetchSource ( @Nullable String [ ] includes , @Nullable String [ ] excludes ) { sourceBuilder ( ) . fetchSource ( includes , excludes ) ; return this ; } public SearchRequestBuilder addField ( String field ) { sourceBuilder ( ) . field ( field ) ; return this ; } public SearchRequestBuilder addFieldDataField ( String name ) { sourceBuilder ( ) . fieldDataField ( name ) ; return this ; } public SearchRequestBuilder addScriptField ( String name , Script script ) { sourceBuilder ( ) . scriptField ( name , script ) ; return this ; } public SearchRequestBuilder addSort ( String field , SortOrder order ) { sourceBuilder ( ) . sort ( field , order ) ; return this ; } public SearchRequestBuilder addSort ( SortBuilder sort ) { sourceBuilder ( ) . sort ( sort ) ; return this ; } public SearchRequestBuilder setTrackScores ( boolean trackScores ) { sourceBuilder ( ) . trackScores ( trackScores ) ; return this ; } public SearchRequestBuilder fields ( String . . . fields ) { sourceBuilder ( ) . fields ( Arrays . asList ( fields ) ) ; return this ; } public SearchRequestBuilder addAggregation ( AbstractAggregationBuilder aggregation ) { sourceBuilder ( ) . aggregation ( aggregation ) ; return this ; } public SearchRequestBuilder highlighter ( HighlightBuilder highlightBuilder ) { sourceBuilder ( ) . highlighter ( highlightBuilder ) ; return this ; } public SearchRequestBuilder suggest ( SuggestBuilder suggestBuilder ) { sourceBuilder ( ) . suggest ( suggestBuilder ) ; return this ; } public SearchRequestBuilder innerHits ( InnerHitsBuilder innerHitsBuilder ) { sourceBuilder ( ) . innerHits ( innerHitsBuilder ) ; return this ; } public SearchRequestBuilder setRescorer ( RescoreBuilder . Rescorer rescorer ) { sourceBuilder ( ) . clearRescorers ( ) ; return addRescorer ( rescorer ) ; } public SearchRequestBuilder setRescorer ( RescoreBuilder . Rescorer rescorer , int window ) { sourceBuilder ( ) . clearRescorers ( ) ; return addRescorer ( rescorer , window ) ; } public SearchRequestBuilder addRescorer ( RescoreBuilder . Rescorer rescorer ) { sourceBuilder ( ) . addRescorer ( new RescoreBuilder ( ) . rescorer ( rescorer ) ) ; return this ; } public SearchRequestBuilder addRescorer ( RescoreBuilder . Rescorer rescorer , int window ) { sourceBuilder ( ) . addRescorer ( new RescoreBuilder ( ) . rescorer ( rescorer ) . windowSize ( window ) ) ; return this ; } public SearchRequestBuilder clearRescorers ( ) { sourceBuilder ( ) . clearRescorers ( ) ; return this ; } public SearchRequestBuilder setSource ( SearchSourceBuilder source ) { request . source ( source ) ; return this ; } public SearchRequestBuilder setTemplate ( Template template ) { request . template ( template ) ; return this ; } public SearchRequestBuilder setRequestCache ( Boolean requestCache ) { request . requestCache ( requestCache ) ; return this ; } @Override public String toString ( ) { if ( request . source ( ) ! = null ) { return request . source ( ) . toString ( ) ; } return new SearchSourceBuilder ( ) . toString ( ) ; } private SearchSourceBuilder sourceBuilder ( ) { if ( request . source ( ) = = null ) { request . source ( new SearchSourceBuilder ( ) ) ; } return request . source ( ) ; } } 
