package org . elasticsearch . search . lookup ; import org . apache . lucene . index . LeafReaderContext ; import org . elasticsearch . common . Nullable ; import org . elasticsearch . index . fielddata . IndexFieldDataService ; import org . elasticsearch . index . mapper . MapperService ; public class SearchLookup { final DocLookup docMap ; final SourceLookup sourceLookup ; final FieldsLookup fieldsLookup ; public SearchLookup ( MapperService mapperService , IndexFieldDataService fieldDataService , @Nullable String [ ] types ) { docMap = new DocLookup ( mapperService , fieldDataService , types ) ; sourceLookup = new SourceLookup ( ) ; fieldsLookup = new FieldsLookup ( mapperService , types ) ; } public LeafSearchLookup getLeafSearchLookup ( LeafReaderContext context ) { return new LeafSearchLookup ( context , docMap . getLeafDocLookup ( context ) , sourceLookup , fieldsLookup . getLeafFieldsLookup ( context ) , IndexLookup . getLeafIndexLookup ( context ) , IndexLookup . NAMES ) ; } public DocLookup doc ( ) { return docMap ; } public SourceLookup source ( ) { return sourceLookup ; } } 
