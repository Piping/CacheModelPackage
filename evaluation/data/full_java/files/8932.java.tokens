package org . elasticsearch . smoketest ; import org . elasticsearch . action . admin . cluster . health . ClusterHealthResponse ; import org . elasticsearch . action . search . SearchResponse ; import org . elasticsearch . client . Client ; import static org . hamcrest . CoreMatchers . is ; import static org . hamcrest . Matchers . greaterThan ; public class SmokeTestClientIT extends ESSmokeClientTestCase { public void testSimpleClient ( ) { Client client = getClient ( ) ; ClusterHealthResponse health = client . admin ( ) . cluster ( ) . prepareHealth ( ) . setWaitForYellowStatus ( ) . get ( ) ; String clusterName = health . getClusterName ( ) ; int numberOfNodes = health . getNumberOfNodes ( ) ; assertThat ( <str> + clusterName + <str> , numberOfNodes , greaterThan ( <int> ) ) ; } public void testPutDocument ( ) { Client client = getClient ( ) ; client . prepareIndex ( index , <str> , <str> ) . setSource ( <str> , <str> ) . get ( ) ; client . admin ( ) . indices ( ) . prepareRefresh ( index ) . get ( ) ; SearchResponse searchResponse = client . prepareSearch ( index ) . get ( ) ; assertThat ( searchResponse . getHits ( ) . getTotalHits ( ) , is ( <int> ) ) ; } } 
