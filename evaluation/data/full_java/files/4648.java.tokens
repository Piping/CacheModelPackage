package org . eclipse . debug . internal . ui . views . variables ; import org . eclipse . debug . internal . ui . DebugUIPlugin ; import org . eclipse . debug . internal . ui . IDebugHelpContextIds ; import org . eclipse . debug . internal . ui . IInternalDebugUIConstants ; import org . eclipse . debug . internal . ui . viewers . model . provisional . TreeModelViewer ; import org . eclipse . debug . ui . DebugUITools ; import org . eclipse . jface . action . Action ; import org . eclipse . jface . action . IAction ; import org . eclipse . swt . custom . BusyIndicator ; import org . eclipse . ui . PlatformUI ; import org . eclipse . ui . texteditor . IUpdate ; public class ToggleShowColumnsAction extends Action implements IUpdate { private TreeModelViewer fViewer ; public ToggleShowColumnsAction ( TreeModelViewer viewew ) { super ( VariablesViewMessages . ToggleShowColumnsAction_0 , IAction . AS_CHECK_BOX ) ; fViewer = viewew ; setToolTipText ( VariablesViewMessages . ToggleShowColumnsAction_1 ) ; setImageDescriptor ( DebugUITools . getImageDescriptor ( IInternalDebugUIConstants . IMG_OBJS_COMMON_TAB ) ) ; setId ( DebugUIPlugin . getUniqueIdentifier ( ) + <str> ) ; PlatformUI . getWorkbench ( ) . getHelpSystem ( ) . setHelp ( this , IDebugHelpContextIds . SHOW_COLUMNS_ACTION ) ; } @Override public void run ( ) { if ( fViewer . getControl ( ) . isDisposed ( ) ) { return ; } BusyIndicator . showWhile ( fViewer . getControl ( ) . getDisplay ( ) , new Runnable ( ) { @Override public void run ( ) { fViewer . setShowColumns ( isChecked ( ) ) ; } } ) ; } @Override public void update ( ) { setEnabled ( fViewer . canToggleColumns ( ) ) ; setChecked ( fViewer . isShowColumns ( ) ) ; } } 
