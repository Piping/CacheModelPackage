package org . eclipse . debug . internal . ui . views . breakpoints ; import org . eclipse . core . resources . IMarker ; import org . eclipse . core . resources . IResource ; import org . eclipse . debug . core . model . IBreakpoint ; import org . eclipse . ui . IMemento ; import org . eclipse . ui . IPersistableElement ; public class BreakpointPersistableElementAdapter implements IPersistableElement { private IBreakpoint fBreakpoint ; public static final String TAG_MARKER_ID = <str> ; public static final String TAG_RESOURCE_FACTORY_ID = <str> ; public BreakpointPersistableElementAdapter ( IBreakpoint breakpoint ) { fBreakpoint = breakpoint ; } @Override public String getFactoryId ( ) { return <str> ; } @Override public void saveState ( IMemento memento ) { IMarker marker = fBreakpoint . getMarker ( ) ; if ( marker ! = null ) { IResource resource = marker . getResource ( ) ; IPersistableElement pe = resource . getAdapter ( IPersistableElement . class ) ; if ( pe ! = null ) { long id = marker . getId ( ) ; String longString = Long . toString ( id ) ; memento . putString ( TAG_MARKER_ID , longString ) ; memento . putString ( TAG_RESOURCE_FACTORY_ID , pe . getFactoryId ( ) ) ; pe . saveState ( memento ) ; } } } } 
