package org . gradle . api . internal ; import org . gradle . api . Action ; import org . gradle . api . InvalidUserCodeException ; public class UserCodeAction < T > implements Action < T > { private final String exceptionMessage ; private final Action < ? super T > delegate ; public UserCodeAction ( String exceptionMessage , Action < ? super T > delegate ) { this . exceptionMessage = exceptionMessage ; this . delegate = delegate ; } public void execute ( T target ) { try { delegate . execute ( target ) ; } catch ( Exception e ) { throw new InvalidUserCodeException ( exceptionMessage , e ) ; } } } 
