package org . gradle . integtests . fixtures . versions ; import org . gradle . api . UncheckedIOException ; import org . gradle . internal . Factory ; import java . io . IOException ; import java . io . InputStream ; import java . net . URL ; import java . util . Properties ; public class ClasspathVersionSource implements Factory < Properties > { private final String resourceName ; private final ClassLoader classLoader ; public ClasspathVersionSource ( ) { this ( <str> , ClasspathVersionSource . class . getClassLoader ( ) ) ; } ClasspathVersionSource ( String resourceName , ClassLoader classLoader ) { this . resourceName = resourceName ; this . classLoader = classLoader ; } public Properties create ( ) { URL resource = classLoader . getResource ( resourceName ) ; if ( resource = = null ) { throw new RuntimeException ( <str> + <str> + resourceName + <str> + <str> + <str> ) ; } try { Properties properties = new Properties ( ) ; InputStream stream = resource . openStream ( ) ; try { properties . load ( stream ) ; } finally { stream . close ( ) ; } return properties ; } catch ( IOException e ) { throw new UncheckedIOException ( e ) ; } } } 
