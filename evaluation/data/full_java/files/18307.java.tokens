package com . badlogic . gdx . scenes . scene2d . utils ; import com . badlogic . gdx . Input . Buttons ; import com . badlogic . gdx . scenes . scene2d . InputEvent ; import com . badlogic . gdx . scenes . scene2d . InputListener ; public class DragListener extends InputListener { private float tapSquareSize = <int> , touchDownX = - <int> , touchDownY = - <int> , stageTouchDownX = - <int> , stageTouchDownY = - <int> ; private int pressedPointer = - <int> ; private int button ; private boolean dragging ; private float deltaX , deltaY ; public boolean touchDown ( InputEvent event , float x , float y , int pointer , int button ) { if ( pressedPointer ! = - <int> ) return false ; if ( pointer = = <int> & & this . button ! = - <int> & & button ! = this . button ) return false ; pressedPointer = pointer ; touchDownX = x ; touchDownY = y ; stageTouchDownX = event . getStageX ( ) ; stageTouchDownY = event . getStageY ( ) ; return true ; } public void touchDragged ( InputEvent event , float x , float y , int pointer ) { if ( pointer ! = pressedPointer ) return ; if ( ! dragging & & ( Math . abs ( touchDownX - x ) > tapSquareSize | | Math . abs ( touchDownY - y ) > tapSquareSize ) ) { dragging = true ; dragStart ( event , x , y , pointer ) ; deltaX = x ; deltaY = y ; } if ( dragging ) { deltaX - = x ; deltaY - = y ; drag ( event , x , y , pointer ) ; deltaX = x ; deltaY = y ; } } public void touchUp ( InputEvent event , float x , float y , int pointer , int button ) { if ( pointer = = pressedPointer ) { if ( dragging ) dragStop ( event , x , y , pointer ) ; cancel ( ) ; } } public void dragStart ( InputEvent event , float x , float y , int pointer ) { } public void drag ( InputEvent event , float x , float y , int pointer ) { } public void dragStop ( InputEvent event , float x , float y , int pointer ) { } public void cancel ( ) { dragging = false ; pressedPointer = - <int> ; } public boolean isDragging ( ) { return dragging ; } public void setTapSquareSize ( float halfTapSquareSize ) { tapSquareSize = halfTapSquareSize ; } public float getTapSquareSize ( ) { return tapSquareSize ; } public float getTouchDownX ( ) { return touchDownX ; } public float getTouchDownY ( ) { return touchDownY ; } public float getStageTouchDownX ( ) { return stageTouchDownX ; } public float getStageTouchDownY ( ) { return stageTouchDownY ; } public float getDeltaX ( ) { return deltaX ; } public float getDeltaY ( ) { return deltaY ; } public int getButton ( ) { return button ; } public void setButton ( int button ) { this . button = button ; } } 
