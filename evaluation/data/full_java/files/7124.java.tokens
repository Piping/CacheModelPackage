package org . elasticsearch . search . aggregations ; import org . elasticsearch . common . inject . Inject ; import org . elasticsearch . common . xcontent . XContentParser ; import org . elasticsearch . search . SearchParseElement ; import org . elasticsearch . search . internal . SearchContext ; public class AggregationParseElement implements SearchParseElement { private final AggregatorParsers aggregatorParsers ; @Inject public AggregationParseElement ( AggregatorParsers aggregatorParsers ) { this . aggregatorParsers = aggregatorParsers ; } @Override public void parse ( XContentParser parser , SearchContext context ) throws Exception { AggregatorFactories factories = aggregatorParsers . parseAggregators ( parser , context ) ; context . aggregations ( new SearchContextAggregations ( factories ) ) ; } } 
