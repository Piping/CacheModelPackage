package org . elasticsearch . plugin . repository . azure ; import org . elasticsearch . cloud . azure . AzureRepositoryModule ; import org . elasticsearch . common . inject . Module ; import org . elasticsearch . common . logging . ESLogger ; import org . elasticsearch . common . logging . Loggers ; import org . elasticsearch . common . settings . Settings ; import org . elasticsearch . index . snapshots . blobstore . BlobStoreIndexShardRepository ; import org . elasticsearch . plugins . Plugin ; import org . elasticsearch . repositories . RepositoriesModule ; import org . elasticsearch . repositories . azure . AzureRepository ; import java . util . Collection ; import java . util . Collections ; public class AzureRepositoryPlugin extends Plugin { private final Settings settings ; protected final ESLogger logger = Loggers . getLogger ( AzureRepositoryPlugin . class ) ; public AzureRepositoryPlugin ( Settings settings ) { this . settings = settings ; logger . trace ( <str> ) ; } @Override public String name ( ) { return <str> ; } @Override public String description ( ) { return <str> ; } @Override public Collection < Module > nodeModules ( ) { return Collections . singletonList ( ( Module ) new AzureRepositoryModule ( settings ) ) ; } public void onModule ( RepositoriesModule module ) { logger . debug ( <str> , AzureRepository . TYPE ) ; module . registerRepository ( AzureRepository . TYPE , AzureRepository . class , BlobStoreIndexShardRepository . class ) ; } } 
