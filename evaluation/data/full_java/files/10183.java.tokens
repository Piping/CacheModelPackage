package com . google . common . base ; import com . google . caliper . Benchmark ; import com . google . caliper . Param ; public class ToStringHelperBenchmark { @Param ( { <str> , <str> , <str> , <str> } ) int dataSize ; private static final String NAME = <str> ; private static final String NAME3 = Strings . repeat ( NAME , <int> ) ; private static void addEntries ( Objects . ToStringHelper helper ) { helper . add ( NAME , <int> ) . addValue ( <int> ) . add ( NAME , <float> ) . addValue ( <float> ) . add ( NAME3 , false ) . add ( NAME3 , NAME3 ) . add ( NAME3 , <str> ) ; } @Benchmark int toString ( int reps ) { int dummy = <int> ; for ( int i = <int> ; i < reps ; i + + ) { Objects . ToStringHelper helper = Objects . toStringHelper ( <str> ) . omitNullValues ( ) ; for ( int j = <int> ; j < dataSize ; + + j ) { addEntries ( helper ) ; } dummy ^ = helper . toString ( ) . hashCode ( ) ; } return dummy ; } } 
