package org . eclipse . ui . console . actions ; import org . eclipse . jface . action . Action ; import org . eclipse . jface . text . ITextOperationTarget ; import org . eclipse . jface . text . ITextViewer ; import org . eclipse . ui . texteditor . IUpdate ; public class TextViewerAction extends Action implements IUpdate { private int fOperationCode = - <int> ; private ITextOperationTarget fOperationTarget ; public TextViewerAction ( ITextViewer viewer , int operationCode ) { fOperationCode = operationCode ; fOperationTarget = viewer . getTextOperationTarget ( ) ; update ( ) ; } @Override public void update ( ) { boolean wasEnabled = isEnabled ( ) ; boolean isEnabled = ( fOperationTarget ! = null & & fOperationTarget . canDoOperation ( fOperationCode ) ) ; setEnabled ( isEnabled ) ; if ( wasEnabled ! = isEnabled ) { firePropertyChange ( ENABLED , wasEnabled ? Boolean . TRUE : Boolean . FALSE , isEnabled ? Boolean . TRUE : Boolean . FALSE ) ; } } @Override public void run ( ) { if ( fOperationCode ! = - <int> & & fOperationTarget ! = null ) { fOperationTarget . doOperation ( fOperationCode ) ; } } public void configureAction ( String text , String toolTipText , String description ) { setText ( text ) ; setToolTipText ( toolTipText ) ; setDescription ( description ) ; } } 
