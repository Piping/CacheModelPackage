package org . elasticsearch . index . engine ; import org . apache . lucene . index . IndexReader ; import org . apache . lucene . search . IndexSearcher ; import org . apache . lucene . search . SearcherFactory ; import org . elasticsearch . index . engine . EngineConfig ; import java . io . IOException ; public class EngineSearcherFactory extends SearcherFactory { private final EngineConfig engineConfig ; public EngineSearcherFactory ( EngineConfig engineConfig ) { this . engineConfig = engineConfig ; } @Override public IndexSearcher newSearcher ( IndexReader reader , IndexReader previousReader ) throws IOException { IndexSearcher searcher = super . newSearcher ( reader , previousReader ) ; searcher . setQueryCache ( engineConfig . getQueryCache ( ) ) ; searcher . setQueryCachingPolicy ( engineConfig . getQueryCachingPolicy ( ) ) ; searcher . setSimilarity ( engineConfig . getSimilarity ( ) ) ; return searcher ; } } 
