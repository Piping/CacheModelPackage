package org . gradle . launcher . daemon . server . health ; import org . gradle . internal . TimeProvider ; import org . gradle . internal . TrueTimeProvider ; import org . gradle . launcher . daemon . server . api . DaemonCommandAction ; import org . gradle . launcher . daemon . server . api . DaemonCommandExecution ; class HintGCAfterBuild implements DaemonCommandAction { private final long gcDelay ; private TimeProvider timeProvider ; private long nextGcHint ; HintGCAfterBuild ( ) { this ( <int> * <int> * <int> , new TrueTimeProvider ( ) ) ; } HintGCAfterBuild ( long gcDelay , TimeProvider timeProvider ) { this . gcDelay = gcDelay ; this . timeProvider = timeProvider ; } public void execute ( DaemonCommandExecution execution ) { execution . proceed ( ) ; long time = timeProvider . getCurrentTime ( ) ; if ( time > nextGcHint ) { gc ( ) ; nextGcHint = time + gcDelay ; } } void gc ( ) { System . gc ( ) ; } } 
