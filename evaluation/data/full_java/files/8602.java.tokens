package org . elasticsearch . script . expression ; import org . apache . lucene . index . LeafReaderContext ; import org . apache . lucene . queries . function . FunctionValues ; import org . apache . lucene . queries . function . ValueSource ; import java . io . IOException ; import java . util . Map ; class ReplaceableConstValueSource extends ValueSource { final ReplaceableConstFunctionValues fv ; public ReplaceableConstValueSource ( ) { fv = new ReplaceableConstFunctionValues ( ) ; } @Override public FunctionValues getValues ( Map map , LeafReaderContext atomicReaderContext ) throws IOException { return fv ; } @Override public boolean equals ( Object o ) { return o = = this ; } @Override public int hashCode ( ) { return System . identityHashCode ( this ) ; } @Override public String description ( ) { return <str> ; } public void setValue ( double v ) { fv . setValue ( v ) ; } } 
