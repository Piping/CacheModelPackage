package org . elasticsearch . index . cache ; import org . apache . lucene . util . IOUtils ; import org . elasticsearch . index . AbstractIndexComponent ; import org . elasticsearch . index . IndexSettings ; import org . elasticsearch . index . cache . bitset . BitsetFilterCache ; import org . elasticsearch . index . cache . query . QueryCache ; import java . io . Closeable ; import java . io . IOException ; public class IndexCache extends AbstractIndexComponent implements Closeable { private final QueryCache queryCache ; private final BitsetFilterCache bitsetFilterCache ; public IndexCache ( IndexSettings indexSettings , QueryCache queryCache , BitsetFilterCache bitsetFilterCache ) { super ( indexSettings ) ; this . queryCache = queryCache ; this . bitsetFilterCache = bitsetFilterCache ; } public QueryCache query ( ) { return queryCache ; } public BitsetFilterCache bitsetFilterCache ( ) { return bitsetFilterCache ; } @Override public void close ( ) throws IOException { IOUtils . close ( queryCache , bitsetFilterCache ) ; } public void clear ( String reason ) { queryCache . clear ( reason ) ; bitsetFilterCache . clear ( reason ) ; } } 
