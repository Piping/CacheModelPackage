package org . elasticsearch . test . rest . parser ; import org . elasticsearch . common . collect . Tuple ; import org . elasticsearch . test . rest . section . LengthAssertion ; import java . io . IOException ; public class LengthParser implements RestTestFragmentParser < LengthAssertion > { @Override public LengthAssertion parse ( RestTestSuiteParseContext parseContext ) throws IOException , RestTestParseException { Tuple < String , Object > stringObjectTuple = parseContext . parseTuple ( ) ; assert stringObjectTuple . v2 ( ) ! = null ; int value ; if ( stringObjectTuple . v2 ( ) instanceof Number ) { value = ( ( Number ) stringObjectTuple . v2 ( ) ) . intValue ( ) ; } else { try { value = Integer . valueOf ( stringObjectTuple . v2 ( ) . toString ( ) ) ; } catch ( NumberFormatException e ) { throw new RestTestParseException ( <str> , e ) ; } } return new LengthAssertion ( stringObjectTuple . v1 ( ) , value ) ; } } 
