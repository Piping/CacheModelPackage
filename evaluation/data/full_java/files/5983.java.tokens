package org . elasticsearch . common . lucene . index ; import org . apache . lucene . index . * ; import org . elasticsearch . index . shard . ShardId ; public final class ElasticsearchLeafReader extends FilterLeafReader { private final ShardId shardId ; public ElasticsearchLeafReader ( LeafReader in , ShardId shardId ) { super ( in ) ; this . shardId = shardId ; } public ShardId shardId ( ) { return this . shardId ; } @Override public Object getCoreCacheKey ( ) { return in . getCoreCacheKey ( ) ; } public static ElasticsearchLeafReader getElasticsearchLeafReader ( LeafReader reader ) { if ( reader instanceof FilterLeafReader ) { if ( reader instanceof ElasticsearchLeafReader ) { return ( ElasticsearchLeafReader ) reader ; } else { return getElasticsearchLeafReader ( ( ( FilterLeafReader ) reader ) . getDelegate ( ) ) ; } } return null ; } } 
