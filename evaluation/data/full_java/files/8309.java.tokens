package org . elasticsearch . index . translog ; import org . elasticsearch . cluster . metadata . IndexMetaData ; import org . elasticsearch . common . settings . Settings ; import org . elasticsearch . common . unit . ByteSizeUnit ; import org . elasticsearch . common . util . BigArrays ; import org . elasticsearch . test . IndexSettingsModule ; import java . io . IOException ; import java . nio . file . Path ; public class BufferedTranslogTests extends TranslogTests { @Override protected Translog create ( Path path ) throws IOException { Settings build = Settings . settingsBuilder ( ) . put ( <str> , TranslogWriter . Type . BUFFERED . name ( ) ) . put ( <str> , <int> + randomInt ( <int> * <int> ) , ByteSizeUnit . BYTES ) . put ( IndexMetaData . SETTING_VERSION_CREATED , org . elasticsearch . Version . CURRENT ) . build ( ) ; TranslogConfig translogConfig = new TranslogConfig ( shardId , path , IndexSettingsModule . newIndexSettings ( shardId . index ( ) , build ) , Translog . Durabilty . REQUEST , BigArrays . NON_RECYCLING_INSTANCE , null ) ; return new Translog ( translogConfig ) ; } } 
