package org . elasticsearch . search . highlight . vectorhighlight ; import org . apache . lucene . document . Field ; import org . apache . lucene . search . highlight . Encoder ; import org . apache . lucene . search . vectorhighlight . BoundaryScanner ; import org . apache . lucene . search . vectorhighlight . FieldFragList . WeightedFragInfo ; import org . elasticsearch . index . mapper . FieldMapper ; public class SimpleFragmentsBuilder extends org . apache . lucene . search . vectorhighlight . SimpleFragmentsBuilder { protected final FieldMapper mapper ; public SimpleFragmentsBuilder ( FieldMapper mapper , String [ ] preTags , String [ ] postTags , BoundaryScanner boundaryScanner ) { super ( preTags , postTags , boundaryScanner ) ; this . mapper = mapper ; } @Override protected String makeFragment ( StringBuilder buffer , int [ ] index , Field [ ] values , WeightedFragInfo fragInfo , String [ ] preTags , String [ ] postTags , Encoder encoder ) { return super . makeFragment ( buffer , index , values , FragmentBuilderHelper . fixWeightedFragInfo ( mapper , values , fragInfo ) , preTags , postTags , encoder ) ; } } 
