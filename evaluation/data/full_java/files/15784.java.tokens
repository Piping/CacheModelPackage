package org . gradle . api . internal . tasks . testing . testng ; import org . gradle . api . internal . tasks . testing . detection . TestClassVisitor ; import org . gradle . api . internal . tasks . testing . detection . TestFrameworkDetector ; import org . objectweb . asm . AnnotationVisitor ; import org . objectweb . asm . MethodVisitor ; import org . objectweb . asm . Opcodes ; class TestNGTestClassDetecter extends TestClassVisitor { private boolean isAbstract ; private String className ; private String superClassName ; private boolean test ; TestNGTestClassDetecter ( final TestFrameworkDetector detector ) { super ( detector ) ; } public void visit ( int version , int access , String name , String signature , String superName , String [ ] interfaces ) { isAbstract = ( access & Opcodes . ACC_ABSTRACT ) ! = <int> ; this . className = name ; this . superClassName = superName ; } public AnnotationVisitor visitAnnotation ( String desc , boolean visible ) { if ( <str> . equals ( desc ) ) { test = true ; } return null ; } public MethodVisitor visitMethod ( int access , String name , String desc , String signature , String [ ] exceptions ) { if ( ! isAbstract & & ! test ) { return new TestNGTestMethodDetecter ( this ) ; } else { return null ; } } public String getClassName ( ) { return className ; } public boolean isAbstract ( ) { return isAbstract ; } public boolean isTest ( ) { return test ; } void setTest ( boolean test ) { this . test = test ; } public String getSuperClassName ( ) { return superClassName ; } } 
