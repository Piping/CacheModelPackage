package com . badlogic . gdx . tools . flame ; import java . awt . Dimension ; import java . awt . GridBagConstraints ; import java . awt . GridBagLayout ; import java . awt . Insets ; import java . awt . event . ActionEvent ; import java . awt . event . ActionListener ; import javax . swing . BorderFactory ; import javax . swing . JButton ; import javax . swing . JPanel ; import com . badlogic . gdx . graphics . g3d . particles . values . ScaledNumericValue ; import com . badlogic . gdx . tools . particleeditor . Chart ; class PercentagePanel extends ParticleValuePanel < ScaledNumericValue > { JButton expandButton ; Chart chart ; public PercentagePanel ( FlameMain editor , ScaledNumericValue value , String chartTitle , String name , String description ) { super ( editor , name , description ) ; initializeComponents ( chartTitle ) ; setValue ( value ) ; } @Override public void setValue ( ScaledNumericValue value ) { super . setValue ( value ) ; if ( value = = null ) return ; chart . setValues ( this . value . getTimeline ( ) , this . value . getScaling ( ) ) ; } private void initializeComponents ( String chartTitle ) { JPanel contentPanel = getContentPanel ( ) ; { chart = new Chart ( chartTitle ) { public void pointsChanged ( ) { value . setTimeline ( chart . getValuesX ( ) ) ; value . setScaling ( chart . getValuesY ( ) ) ; } } ; chart . setPreferredSize ( new Dimension ( <int> , <int> ) ) ; contentPanel . add ( chart , new GridBagConstraints ( <int> , <int> , <int> , <int> , <int> , <int> , GridBagConstraints . WEST , GridBagConstraints . BOTH , new Insets ( <int> , <int> , <int> , <int> ) , <int> , <int> ) ) ; } { expandButton = new JButton ( <str> ) ; expandButton . setBorder ( BorderFactory . createEmptyBorder ( <int> , <int> , <int> , <int> ) ) ; contentPanel . add ( expandButton , new GridBagConstraints ( <int> , <int> , <int> , <int> , <int> , <int> , GridBagConstraints . NORTHWEST , GridBagConstraints . NONE , new Insets ( <int> , <int> , <int> , <int> ) , <int> , <int> ) ) ; } expandButton . addActionListener ( new ActionListener ( ) { public void actionPerformed ( ActionEvent event ) { chart . setExpanded ( ! chart . isExpanded ( ) ) ; boolean expanded = chart . isExpanded ( ) ; GridBagLayout layout = ( GridBagLayout ) getContentPanel ( ) . getLayout ( ) ; GridBagConstraints chartConstraints = layout . getConstraints ( chart ) ; GridBagConstraints expandButtonConstraints = layout . getConstraints ( expandButton ) ; if ( expanded ) { chart . setPreferredSize ( new Dimension ( <int> , <int> ) ) ; expandButton . setText ( <str> ) ; chartConstraints . weightx = <int> ; expandButtonConstraints . weightx = <int> ; } else { chart . setPreferredSize ( new Dimension ( <int> , <int> ) ) ; expandButton . setText ( <str> ) ; chartConstraints . weightx = <int> ; expandButtonConstraints . weightx = <int> ; } layout . setConstraints ( chart , chartConstraints ) ; layout . setConstraints ( expandButton , expandButtonConstraints ) ; chart . revalidate ( ) ; } } ) ; } } 
