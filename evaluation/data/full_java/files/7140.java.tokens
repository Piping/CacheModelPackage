package org . elasticsearch . search . aggregations ; import org . apache . lucene . search . Scorer ; import org . elasticsearch . common . lucene . ScorerAware ; import java . io . IOException ; public class LeafBucketCollectorBase extends LeafBucketCollector { private final LeafBucketCollector sub ; private final ScorerAware values ; public LeafBucketCollectorBase ( LeafBucketCollector sub , Object values ) { this . sub = sub ; if ( values instanceof ScorerAware ) { this . values = ( ScorerAware ) values ; } else { this . values = null ; } } @Override public void setScorer ( Scorer s ) throws IOException { sub . setScorer ( s ) ; if ( values ! = null ) { values . setScorer ( s ) ; } } @Override public void collect ( int doc , long bucket ) throws IOException { sub . collect ( doc , bucket ) ; } } 
