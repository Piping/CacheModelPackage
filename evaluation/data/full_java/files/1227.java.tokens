package org . apache . cassandra . utils ; import java . io . UnsupportedEncodingException ; import java . util . Arrays ; public class MD5Digest { public final byte [ ] bytes ; private final int hashCode ; private MD5Digest ( byte [ ] bytes ) { this . bytes = bytes ; hashCode = Arrays . hashCode ( bytes ) ; } public static MD5Digest wrap ( byte [ ] digest ) { return new MD5Digest ( digest ) ; } public static MD5Digest compute ( byte [ ] toHash ) { return new MD5Digest ( FBUtilities . threadLocalMD5Digest ( ) . digest ( toHash ) ) ; } public static MD5Digest compute ( String toHash ) { try { return compute ( toHash . getBytes ( <str> ) ) ; } catch ( UnsupportedEncodingException e ) { throw new RuntimeException ( e . getMessage ( ) ) ; } } @Override public final int hashCode ( ) { return hashCode ; } @Override public final boolean equals ( Object o ) { if ( ! ( o instanceof MD5Digest ) ) return false ; MD5Digest that = ( MD5Digest ) o ; return FBUtilities . compareUnsigned ( this . bytes , that . bytes , <int> , <int> , this . bytes . length , that . bytes . length ) = = <int> ; } @Override public String toString ( ) { return Hex . bytesToHex ( bytes ) ; } } 
