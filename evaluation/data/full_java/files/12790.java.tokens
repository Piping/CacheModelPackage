package org . gradle . api . internal . filestore . ivy ; import org . gradle . api . Transformer ; import org . gradle . internal . component . external . model . ModuleComponentArtifactMetaData ; import org . gradle . api . internal . artifacts . repositories . resolver . IvyResourcePattern ; import org . gradle . api . internal . artifacts . repositories . resolver . ResourcePattern ; import org . gradle . api . internal . file . TemporaryFileProvider ; import org . gradle . internal . resource . local . GroupedAndNamedUniqueFileStore ; import org . gradle . internal . resource . local . PathKeyFileStore ; public class ArtifactIdentifierFileStore extends GroupedAndNamedUniqueFileStore < ModuleComponentArtifactMetaData > { private static final String GROUP_PATTERN = <str> ; private static final String NAME_PATTERN = <str> ; public ArtifactIdentifierFileStore ( PathKeyFileStore pathKeyFileStore , TemporaryFileProvider temporaryFileProvider ) { super ( pathKeyFileStore , temporaryFileProvider , toTransformer ( GROUP_PATTERN ) , toTransformer ( NAME_PATTERN ) ) ; } private static Transformer < String , ModuleComponentArtifactMetaData > toTransformer ( final String pattern ) { final ResourcePattern resourcePattern = new IvyResourcePattern ( pattern ) ; return new Transformer < String , ModuleComponentArtifactMetaData > ( ) { public String transform ( ModuleComponentArtifactMetaData artifact ) { return resourcePattern . getLocation ( artifact ) . getPath ( ) ; } } ; } } 
