package org . elasticsearch . script . mustache ; import com . fasterxml . jackson . core . io . JsonStringEncoder ; import com . github . mustachejava . DefaultMustacheFactory ; import com . github . mustachejava . MustacheException ; import java . io . IOException ; import java . io . Writer ; public final class JsonEscapingMustacheFactory extends DefaultMustacheFactory { @Override public void encode ( String value , Writer writer ) { try { JsonStringEncoder utils = new JsonStringEncoder ( ) ; writer . write ( utils . quoteAsString ( value ) ) ; ; } catch ( IOException e ) { throw new MustacheException ( <str> + value ) ; } } } 
