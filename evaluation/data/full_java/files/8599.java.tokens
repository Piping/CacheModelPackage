package org . elasticsearch . script . expression ; import org . apache . lucene . queries . function . ValueSource ; import org . apache . lucene . queries . function . docvalues . DoubleDocValues ; import org . elasticsearch . index . fielddata . AtomicNumericFieldData ; import org . elasticsearch . index . fielddata . NumericDoubleValues ; import org . elasticsearch . search . MultiValueMode ; class FieldDataFunctionValues extends DoubleDocValues { NumericDoubleValues dataAccessor ; FieldDataFunctionValues ( ValueSource parent , MultiValueMode m , AtomicNumericFieldData d ) { super ( parent ) ; dataAccessor = m . select ( d . getDoubleValues ( ) , <float> ) ; } @Override public double doubleVal ( int i ) { return dataAccessor . get ( i ) ; } } 
