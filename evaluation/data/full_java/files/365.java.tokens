package org . apache . cassandra . db . commitlog ; import org . apache . cassandra . config . DatabaseDescriptor ; class BatchCommitLogService extends AbstractCommitLogService { public BatchCommitLogService ( CommitLog commitLog ) { super ( commitLog , <str> , ( int ) DatabaseDescriptor . getCommitLogSyncBatchWindow ( ) ) ; } protected void maybeWaitForSync ( CommitLogSegment . Allocation alloc ) { pending . incrementAndGet ( ) ; haveWork . release ( ) ; alloc . awaitDiskSync ( commitLog . metrics . waitingOnCommit ) ; pending . decrementAndGet ( ) ; } } 
