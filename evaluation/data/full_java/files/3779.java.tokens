package org . eclipse . debug . examples . core . pda . protocol ; public class PDARunControlEvent extends PDAEvent { public final int fThreadId ; public final String fReason ; public PDARunControlEvent ( String message ) { super ( message ) ; fThreadId = getThreadId ( message ) ; fReason = getStateChangeReason ( message ) ; } protected int getThreadId ( String message ) { int nameEnd = getName ( message ) . length ( ) ; if ( Character . isDigit ( message . charAt ( nameEnd + <int> ) ) ) { int threadIdEnd = message . indexOf ( <str> , nameEnd + <int> ) ; threadIdEnd = threadIdEnd = = - <int> ? message . length ( ) : threadIdEnd ; try { return Integer . parseInt ( message . substring ( nameEnd + <int> , threadIdEnd ) ) ; } catch ( NumberFormatException e ) { throw new IllegalArgumentException ( <str> + message ) ; } } else { return - <int> ; } } protected String getStateChangeReason ( String message ) { int idx = getName ( message ) . length ( ) ; if ( Character . isDigit ( message . charAt ( idx + <int> ) ) ) { idx = message . indexOf ( <str> , idx + <int> ) ; idx = idx = = - <int> ? message . length ( ) : idx + <int> ; } else { idx + + ; } if ( idx > = message . length ( ) ) { return <str> ; } int endIdx = message . indexOf ( <str> , idx ) ; endIdx = endIdx = = - <int> ? message . length ( ) : endIdx ; return message . substring ( idx , endIdx ) ; } @Override protected String getName ( String message ) { int nameEnd = message . indexOf ( <str> ) ; nameEnd = nameEnd = = - <int> ? message . length ( ) : nameEnd ; return message . substring ( <int> , nameEnd ) ; } public static boolean isEventMessage ( String message ) { return message . startsWith ( <str> ) ; } } 
