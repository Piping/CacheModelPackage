package io . netty . handler . codec ; import io . netty . channel . ChannelHandlerContext ; import io . netty . channel . embedded . EmbeddedChannel ; import org . junit . Test ; import java . util . List ; public class MessageToMessageEncoderTest { @Test ( expected = EncoderException . class ) public void testException ( ) { EmbeddedChannel channel = new EmbeddedChannel ( new MessageToMessageEncoder < Object > ( ) { @Override protected void encode ( ChannelHandlerContext ctx , Object msg , List < Object > out ) throws Exception { throw new Exception ( ) ; } } ) ; channel . writeOutbound ( new Object ( ) ) ; } } 
