package org . apache . cassandra . cql3 ; import java . io . UnsupportedEncodingException ; import java . nio . ByteBuffer ; import java . nio . charset . CharacterCodingException ; import java . util . Arrays ; import java . util . Collections ; import org . junit . Test ; import static junit . framework . Assert . assertEquals ; import static junit . framework . Assert . assertFalse ; import static org . junit . Assert . assertTrue ; public class NonNativeTimestampTest extends CQLTester { @Test public void setServerTimestampForNonCqlNativeStatements ( ) throws Throwable { createTable ( <str> ) ; execute ( <str> , <int> ) ; UntypedResultSet . Row row = execute ( <str> ) . one ( ) ; assertEquals ( <int> , row . getInt ( <str> ) ) ; long timestamp1 = row . getLong ( <str> ) ; assertFalse ( timestamp1 = = - <int> ) ; execute ( <str> , <int> ) ; row = execute ( <str> ) . one ( ) ; assertEquals ( <int> , row . getInt ( <str> ) ) ; assertTrue ( row . getLong ( <str> ) > timestamp1 ) ; } } 
