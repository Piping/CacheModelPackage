package org . elasticsearch . discovery . ec2 ; import com . amazonaws . services . ec2 . AmazonEC2 ; import com . amazonaws . services . ec2 . model . Tag ; import org . elasticsearch . cloud . aws . AwsEc2Service ; import org . elasticsearch . common . component . AbstractLifecycleComponent ; import org . elasticsearch . common . settings . Settings ; import java . util . List ; public class AwsEc2ServiceMock extends AbstractLifecycleComponent < AwsEc2Service > implements AwsEc2Service { private int nodes ; private List < List < Tag > > tagsList ; private AmazonEC2 client ; public AwsEc2ServiceMock ( Settings settings , int nodes , List < List < Tag > > tagsList ) { super ( settings ) ; this . nodes = nodes ; this . tagsList = tagsList ; } @Override public synchronized AmazonEC2 client ( ) { if ( client = = null ) { client = new AmazonEC2Mock ( nodes , tagsList ) ; } return client ; } @Override protected void doStart ( ) { } @Override protected void doStop ( ) { } @Override protected void doClose ( ) { } } 
