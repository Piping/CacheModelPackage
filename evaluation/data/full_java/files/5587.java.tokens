package org . elasticsearch . cluster . routing ; import org . apache . lucene . util . StringHelper ; public final class Murmur3HashFunction { private Murmur3HashFunction ( ) { } public static int hash ( String routing ) { final byte [ ] bytesToHash = new byte [ routing . length ( ) * <int> ] ; for ( int i = <int> ; i < routing . length ( ) ; + + i ) { final char c = routing . charAt ( i ) ; final byte b1 = ( byte ) c , b2 = ( byte ) ( c > > > <int> ) ; assert ( ( b1 & <hex> ) | ( ( b2 & <hex> ) < < <int> ) ) = = c ; bytesToHash [ i * <int> ] = b1 ; bytesToHash [ i * <int> + <int> ] = b2 ; } return hash ( bytesToHash , <int> , bytesToHash . length ) ; } public static int hash ( byte [ ] bytes , int offset , int length ) { return StringHelper . murmurhash3_x86_32 ( bytes , offset , length , <int> ) ; } } 
