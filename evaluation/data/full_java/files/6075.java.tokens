package org . elasticsearch . common . util ; import org . apache . lucene . util . Accountable ; import java . util . Collection ; import java . util . Collections ; abstract class AbstractArray implements BigArray { private final BigArrays bigArrays ; public final boolean clearOnResize ; private boolean released = false ; AbstractArray ( BigArrays bigArrays , boolean clearOnResize ) { this . bigArrays = bigArrays ; this . clearOnResize = clearOnResize ; } @Override public final void close ( ) { bigArrays . adjustBreaker ( - ramBytesUsed ( ) ) ; assert ! released : <str> ; released = true ; doClose ( ) ; } protected abstract void doClose ( ) ; @Override public Collection < Accountable > getChildResources ( ) { return Collections . emptyList ( ) ; } } 
