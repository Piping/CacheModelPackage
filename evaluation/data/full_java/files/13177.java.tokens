package org . gradle . plugins . ide . internal . tooling ; import org . gradle . api . Project ; import org . gradle . api . Task ; import java . util . Map ; import java . util . Set ; import static java . util . Collections . emptySet ; public class TasksFactory { Map < Project , Set < Task > > allTasks ; private final boolean includeTasks ; public TasksFactory ( boolean includeTasks ) { this . includeTasks = includeTasks ; } public void collectTasks ( Project root ) { allTasks = root . getAllTasks ( true ) ; } public Set < Task > getTasks ( Project project ) { if ( includeTasks ) { return allTasks . get ( project ) ; } else { return emptySet ( ) ; } } } 
