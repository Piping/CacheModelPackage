package org . gradle . launcher . daemon . server . api ; import org . gradle . launcher . daemon . protocol . Stop ; import org . gradle . launcher . daemon . protocol . StopWhenIdle ; import org . gradle . launcher . daemon . protocol . Success ; public class HandleStop implements DaemonCommandAction { @Override public void execute ( DaemonCommandExecution execution ) { if ( execution . getCommand ( ) instanceof Stop ) { execution . getDaemonStateControl ( ) . requestForcefulStop ( ) ; execution . getConnection ( ) . completed ( new Success ( null ) ) ; } else if ( execution . getCommand ( ) instanceof StopWhenIdle ) { execution . getDaemonStateControl ( ) . requestStop ( ) ; execution . getConnection ( ) . completed ( new Success ( null ) ) ; } else { execution . proceed ( ) ; } } } 
