package org . elasticsearch . action . support ; import org . elasticsearch . action . ActionListener ; import org . elasticsearch . action . ActionResponse ; public abstract class DelegatingActionListener < Instigator extends ActionResponse , Delegated extends ActionResponse > implements ActionListener < Instigator > { ActionListener < Delegated > delegatedActionListener ; protected DelegatingActionListener ( final ActionListener < Delegated > listener ) { this . delegatedActionListener = listener ; } protected abstract Delegated getDelegatedFromInstigator ( Instigator response ) ; @Override public final void onResponse ( Instigator response ) { delegatedActionListener . onResponse ( getDelegatedFromInstigator ( response ) ) ; } @Override public final void onFailure ( Throwable e ) { delegatedActionListener . onFailure ( e ) ; } } 
