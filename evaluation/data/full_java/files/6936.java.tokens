package org . elasticsearch . repositories ; import org . elasticsearch . common . inject . Binder ; import org . elasticsearch . common . settings . Settings ; import org . elasticsearch . common . util . ExtensionPoint ; import org . elasticsearch . index . snapshots . IndexShardRepository ; public class RepositoryTypesRegistry { private final ExtensionPoint . SelectedType < Repository > repositoryTypes = new ExtensionPoint . SelectedType < > ( <str> , Repository . class ) ; private final ExtensionPoint . SelectedType < IndexShardRepository > shardRepositoryTypes = new ExtensionPoint . SelectedType < > ( <str> , IndexShardRepository . class ) ; public void registerRepository ( String name , Class < ? extends Repository > repositoryType , Class < ? extends IndexShardRepository > shardRepositoryType ) { repositoryTypes . registerExtension ( name , repositoryType ) ; shardRepositoryTypes . registerExtension ( name , shardRepositoryType ) ; } public void bindType ( Binder binder , String type ) { Settings settings = Settings . builder ( ) . put ( <str> , type ) . build ( ) ; repositoryTypes . bindType ( binder , settings , <str> , null ) ; shardRepositoryTypes . bindType ( binder , settings , <str> , null ) ; } } 
