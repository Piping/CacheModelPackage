package org . elasticsearch . test . rest . parser ; import org . elasticsearch . common . xcontent . XContentParser ; import org . elasticsearch . test . rest . section . TestSection ; import java . io . IOException ; public class RestTestSectionParser implements RestTestFragmentParser < TestSection > { @Override public TestSection parse ( RestTestSuiteParseContext parseContext ) throws IOException , RestTestParseException { XContentParser parser = parseContext . parser ( ) ; parseContext . advanceToFieldName ( ) ; TestSection testSection = new TestSection ( parser . currentName ( ) ) ; parser . nextToken ( ) ; testSection . setSkipSection ( parseContext . parseSkipSection ( ) ) ; while ( parser . currentToken ( ) ! = XContentParser . Token . END_ARRAY ) { parseContext . advanceToFieldName ( ) ; testSection . addExecutableSection ( parseContext . parseExecutableSection ( ) ) ; } parser . nextToken ( ) ; assert parser . currentToken ( ) = = XContentParser . Token . END_OBJECT ; parser . nextToken ( ) ; return testSection ; } } 
