package org . gradle . api . internal . tasks . testing . junit . report ; import org . apache . commons . lang . StringUtils ; import java . util . * ; public class AllTestResults extends CompositeTestResults { private final Map < String , PackageTestResults > packages = new TreeMap < String , PackageTestResults > ( ) ; public AllTestResults ( ) { super ( null ) ; } @Override public String getTitle ( ) { return <str> ; } @Override public String getBaseUrl ( ) { return <str> ; } public Collection < PackageTestResults > getPackages ( ) { return packages . values ( ) ; } public TestResult addTest ( long classId , String className , String testName , long duration ) { PackageTestResults packageResults = addPackageForClass ( className ) ; return addTest ( packageResults . addTest ( classId , className , testName , duration ) ) ; } public ClassTestResults addTestClass ( long classId , String className ) { return addPackageForClass ( className ) . addClass ( classId , className ) ; } private PackageTestResults addPackageForClass ( String className ) { String packageName = StringUtils . substringBeforeLast ( className , <str> ) ; if ( packageName . equals ( className ) ) { packageName = <str> ; } return addPackage ( packageName ) ; } private PackageTestResults addPackage ( String packageName ) { PackageTestResults packageResults = packages . get ( packageName ) ; if ( packageResults = = null ) { packageResults = new PackageTestResults ( packageName , this ) ; packages . put ( packageName , packageResults ) ; } return packageResults ; } } 
