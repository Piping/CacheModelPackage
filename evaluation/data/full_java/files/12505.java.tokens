package org . gradle . api . internal . artifacts . ivyservice ; import org . gradle . util . VersionNumber ; import java . io . File ; public enum CacheLayout { ROOT ( null , <str> , <int> ) , FILE_STORE ( ROOT , <str> , <int> ) , META_DATA ( ROOT , <str> , <int> ) ; private final String name ; private final CacheLayout parent ; private final int version ; private CacheLayout ( CacheLayout parent , String name , int version ) { this . parent = parent ; this . name = name ; this . version = version ; } public VersionNumber getVersion ( ) { return VersionNumber . parse ( getFormattedVersion ( ) ) ; } public String getKey ( ) { StringBuilder key = new StringBuilder ( ) ; key . append ( name ) ; key . append ( <str> ) ; key . append ( getFormattedVersion ( ) ) ; return key . toString ( ) ; } public String getFormattedVersion ( ) { if ( parent = = null ) { return String . valueOf ( version ) ; } return parent . getFormattedVersion ( ) + <str> + String . valueOf ( version ) ; } public File getPath ( File parentDir ) { return new File ( parentDir , getKey ( ) ) ; } } 
