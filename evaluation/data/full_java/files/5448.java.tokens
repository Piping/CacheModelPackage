package org . elasticsearch . action . termvectors ; import org . elasticsearch . common . io . stream . StreamInput ; import org . elasticsearch . common . io . stream . StreamOutput ; import org . elasticsearch . common . io . stream . Streamable ; import java . io . IOException ; public class MultiTermVectorsItemResponse implements Streamable { private TermVectorsResponse response ; private MultiTermVectorsResponse . Failure failure ; MultiTermVectorsItemResponse ( ) { } public MultiTermVectorsItemResponse ( TermVectorsResponse response , MultiTermVectorsResponse . Failure failure ) { assert ( ( ( response = = null ) & & ( failure ! = null ) ) | | ( ( response ! = null ) & & ( failure = = null ) ) ) ; this . response = response ; this . failure = failure ; } public String getIndex ( ) { if ( failure ! = null ) { return failure . getIndex ( ) ; } return response . getIndex ( ) ; } public String getType ( ) { if ( failure ! = null ) { return failure . getType ( ) ; } return response . getType ( ) ; } public String getId ( ) { if ( failure ! = null ) { return failure . getId ( ) ; } return response . getId ( ) ; } public boolean isFailed ( ) { return failure ! = null ; } public TermVectorsResponse getResponse ( ) { return this . response ; } public MultiTermVectorsResponse . Failure getFailure ( ) { return this . failure ; } public static MultiTermVectorsItemResponse readItemResponse ( StreamInput in ) throws IOException { MultiTermVectorsItemResponse response = new MultiTermVectorsItemResponse ( ) ; response . readFrom ( in ) ; return response ; } @Override public void readFrom ( StreamInput in ) throws IOException { if ( in . readBoolean ( ) ) { failure = MultiTermVectorsResponse . Failure . readFailure ( in ) ; } else { response = new TermVectorsResponse ( ) ; response . readFrom ( in ) ; } } @Override public void writeTo ( StreamOutput out ) throws IOException { if ( failure ! = null ) { out . writeBoolean ( true ) ; failure . writeTo ( out ) ; } else { out . writeBoolean ( false ) ; response . writeTo ( out ) ; } } } 
