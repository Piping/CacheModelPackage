package org . elasticsearch . discovery ; import org . elasticsearch . ElasticsearchException ; import org . elasticsearch . cluster . ClusterChangedEvent ; import org . elasticsearch . cluster . node . DiscoveryNode ; import org . elasticsearch . cluster . routing . RoutingService ; import org . elasticsearch . common . Nullable ; import org . elasticsearch . common . component . LifecycleComponent ; import org . elasticsearch . common . io . stream . StreamInput ; import org . elasticsearch . node . service . NodeService ; import java . io . IOException ; public interface Discovery extends LifecycleComponent < Discovery > { DiscoveryNode localNode ( ) ; void addListener ( InitialStateDiscoveryListener listener ) ; void removeListener ( InitialStateDiscoveryListener listener ) ; String nodeDescription ( ) ; void setNodeService ( @Nullable NodeService nodeService ) ; void setRoutingService ( RoutingService routingService ) ; void publish ( ClusterChangedEvent clusterChangedEvent , AckListener ackListener ) ; interface AckListener { void onNodeAck ( DiscoveryNode node , @Nullable Throwable t ) ; void onTimeout ( ) ; } class FailedToCommitClusterStateException extends ElasticsearchException { public FailedToCommitClusterStateException ( StreamInput in ) throws IOException { super ( in ) ; } public FailedToCommitClusterStateException ( String msg , Object . . . args ) { super ( msg , args ) ; } public FailedToCommitClusterStateException ( String msg , Throwable cause , Object . . . args ) { super ( msg , cause , args ) ; } } DiscoveryStats stats ( ) ; } 
