package com . badlogic . gdx . tests . bullet ; import com . badlogic . gdx . Gdx ; import com . badlogic . gdx . graphics . Color ; import com . badlogic . gdx . physics . bullet . collision . ContactListener ; import com . badlogic . gdx . utils . Array ; public class ContactCallbackTest2 extends BaseBulletTest { public static class TestContactListener extends ContactListener { public Array < BulletEntity > entities ; @Override public void onContactStarted ( int userValue0 , boolean match0 , int userValue1 , boolean match1 ) { if ( match0 ) { final BulletEntity e = ( BulletEntity ) ( entities . get ( userValue0 ) ) ; e . setColor ( Color . RED ) ; Gdx . app . log ( <str> , <str> + userValue0 ) ; } if ( match1 ) { final BulletEntity e = ( BulletEntity ) ( entities . get ( userValue1 ) ) ; e . setColor ( Color . RED ) ; Gdx . app . log ( <str> , <str> + userValue1 ) ; } } @Override public void onContactEnded ( int userValue0 , boolean match0 , int userValue1 , boolean match1 ) { if ( match0 ) { final BulletEntity e = ( BulletEntity ) ( entities . get ( userValue0 ) ) ; e . setColor ( Color . BLUE ) ; Gdx . app . log ( <str> , <str> + userValue0 ) ; } if ( match1 ) { final BulletEntity e = ( BulletEntity ) ( entities . get ( userValue1 ) ) ; e . setColor ( Color . BLUE ) ; Gdx . app . log ( <str> , <str> + userValue1 ) ; } } } final int BOXCOUNT_X = <int> ; final int BOXCOUNT_Y = <int> ; final int BOXCOUNT_Z = <int> ; final float BOXOFFSET_X = - <float> ; final float BOXOFFSET_Y = <float> ; final float BOXOFFSET_Z = - <float> ; TestContactListener contactListener ; @Override public void create ( ) { super . create ( ) ; world . add ( <str> , <float> , <float> , <float> ) . setColor ( <float> + <float> * ( float ) Math . random ( ) , <float> + <float> * ( float ) Math . random ( ) , <float> + <float> * ( float ) Math . random ( ) , <float> ) ; for ( int x = <int> ; x < BOXCOUNT_X ; x + + ) { for ( int y = <int> ; y < BOXCOUNT_Y ; y + + ) { for ( int z = <int> ; z < BOXCOUNT_Z ; z + + ) { final BulletEntity e = ( BulletEntity ) world . add ( <str> , BOXOFFSET_X + x * <float> , BOXOFFSET_Y + y * <float> , BOXOFFSET_Z + z * <float> ) ; e . setColor ( <float> + <float> * ( float ) Math . random ( ) , <float> + <float> * ( float ) Math . random ( ) , <float> + <float> * ( float ) Math . random ( ) , <float> ) ; e . body . setContactCallbackFlag ( <int> ) ; e . body . setContactCallbackFilter ( <int> ) ; } } } contactListener = new TestContactListener ( ) ; contactListener . entities = world . entities ; } @Override public boolean tap ( float x , float y , int count , int button ) { shoot ( x , y ) ; return true ; } @Override public void dispose ( ) { if ( contactListener ! = null ) contactListener . dispose ( ) ; contactListener = null ; super . dispose ( ) ; } } 
