package org . gradle . internal . concurrent ; import java . util . concurrent . ThreadFactory ; import java . util . concurrent . atomic . AtomicLong ; public class ThreadFactoryImpl implements ThreadFactory { private final AtomicLong counter = new AtomicLong ( ) ; private final String displayName ; public ThreadFactoryImpl ( String displayName ) { this . displayName = displayName ; } public Thread newThread ( Runnable r ) { Thread thread = new Thread ( r ) ; long count = counter . incrementAndGet ( ) ; if ( count = = <int> ) { thread . setName ( displayName ) ; } else { thread . setName ( String . format ( <str> , displayName , count ) ) ; } return thread ; } } 
