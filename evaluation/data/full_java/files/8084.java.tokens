package org . elasticsearch . index . analysis ; import org . apache . lucene . analysis . Tokenizer ; import org . apache . lucene . analysis . standard . StandardTokenizer ; import org . elasticsearch . common . settings . Settings ; import org . elasticsearch . test . ESTokenStreamTestCase ; import java . io . IOException ; import java . io . StringReader ; import static org . hamcrest . Matchers . instanceOf ; public class KeepTypesFilterFactoryTests extends ESTokenStreamTestCase { public void testKeepTypes ( ) throws IOException { Settings settings = Settings . settingsBuilder ( ) . put ( <str> , createTempDir ( ) . toString ( ) ) . put ( <str> , <str> ) . putArray ( <str> , new String [ ] { <str> , <str> } ) . build ( ) ; AnalysisService analysisService = AnalysisTestsHelper . createAnalysisServiceFromSettings ( settings ) ; TokenFilterFactory tokenFilter = analysisService . tokenFilter ( <str> ) ; assertThat ( tokenFilter , instanceOf ( KeepTypesFilterFactory . class ) ) ; String source = <str> ; String [ ] expected = new String [ ] { <str> } ; Tokenizer tokenizer = new StandardTokenizer ( ) ; tokenizer . setReader ( new StringReader ( source ) ) ; assertTokenStreamContents ( tokenFilter . create ( tokenizer ) , expected , new int [ ] { <int> } ) ; } } 
