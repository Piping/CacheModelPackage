package org . elasticsearch . index . query ; import org . elasticsearch . action . search . SearchResponse ; import org . elasticsearch . test . ESSingleNodeTestCase ; import java . io . IOException ; public class CommonTermsQueryParserTests extends ESSingleNodeTestCase { public void testWhenParsedQueryIsNullNoNullPointerExceptionIsThrown ( ) throws IOException { final String index = <str> ; final String type = <str> ; client ( ) . admin ( ) . indices ( ) . prepareCreate ( index ) . addMapping ( type , <str> , <str> ) . execute ( ) . actionGet ( ) ; ensureGreen ( ) ; CommonTermsQueryBuilder commonTermsQueryBuilder = new CommonTermsQueryBuilder ( <str> , <str> ) . queryName ( <str> ) ; SearchResponse response = client ( ) . prepareSearch ( index ) . setTypes ( type ) . setQuery ( commonTermsQueryBuilder ) . execute ( ) . actionGet ( ) ; assertNotNull ( response ) ; assertEquals ( response . getHits ( ) . hits ( ) . length , <int> ) ; } } 
