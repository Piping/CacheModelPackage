package org . gradle . integtests . fixtures . jvm ; import com . google . common . base . Joiner ; import org . gradle . test . fixtures . file . TestFile ; public class JvmSourceFile { private final String path ; private final String name ; private final String content ; public JvmSourceFile ( String path , String name , String content ) { this . content = content ; this . path = path ; this . name = name ; } public String getPath ( ) { return path ; } public String getName ( ) { return name ; } public String getContent ( ) { return content ; } public String getFullPath ( ) { return path . isEmpty ( ) ? name : path + <str> + name ; } public JvmSourceFile getClassFile ( ) { return new JvmSourceFile ( path , name . replaceAll ( <str> , <str> ) , null ) ; } public TestFile writeToDir ( TestFile base ) { TestFile file = base . file ( path , name ) ; writeToFile ( file ) ; return file ; } public void writeToFile ( TestFile file ) { if ( file . exists ( ) ) { file . write ( <str> ) ; } file . write ( content ) ; } public String withPath ( String basePath ) { return Joiner . on ( <str> ) . join ( basePath , path , name ) ; } } 
