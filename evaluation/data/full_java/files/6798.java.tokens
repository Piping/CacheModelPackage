package org . elasticsearch . index . suggest . stats ; import org . elasticsearch . common . metrics . CounterMetric ; import org . elasticsearch . common . metrics . MeanMetric ; import java . util . concurrent . TimeUnit ; public final class ShardSuggestMetric { private final MeanMetric suggestMetric = new MeanMetric ( ) ; private final CounterMetric currentMetric = new CounterMetric ( ) ; public void preSuggest ( ) { currentMetric . inc ( ) ; } public void postSuggest ( long tookInNanos ) { currentMetric . dec ( ) ; suggestMetric . inc ( tookInNanos ) ; } public SuggestStats stats ( ) { return new SuggestStats ( suggestMetric . count ( ) , TimeUnit . NANOSECONDS . toMillis ( suggestMetric . sum ( ) ) , currentMetric . count ( ) ) ; } } 
