package org . elasticsearch . index . fieldvisitor ; import org . apache . lucene . index . FieldInfo ; import org . elasticsearch . index . mapper . internal . UidFieldMapper ; import java . io . IOException ; public class JustUidFieldsVisitor extends FieldsVisitor { public JustUidFieldsVisitor ( ) { super ( false ) ; } @Override public Status needsField ( FieldInfo fieldInfo ) throws IOException { if ( UidFieldMapper . NAME . equals ( fieldInfo . name ) ) { return Status . YES ; } return uid ! = null ? Status . STOP : Status . NO ; } } 
