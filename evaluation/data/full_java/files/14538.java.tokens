package org . gradle . internal . nativeintegration . processenvironment ; import net . rubygrapefruit . platform . Process ; import java . io . File ; public class NativePlatformBackedProcessEnvironment extends AbstractProcessEnvironment { private final Process process ; public NativePlatformBackedProcessEnvironment ( Process process ) { this . process = process ; } @Override protected void removeNativeEnvironmentVariable ( String name ) { process . setEnvironmentVariable ( name , null ) ; } @Override protected void setNativeEnvironmentVariable ( String name , String value ) { process . setEnvironmentVariable ( name , value ) ; } @Override protected void setNativeProcessDir ( File processDir ) { process . setWorkingDirectory ( processDir ) ; } public File getProcessDir ( ) { return process . getWorkingDirectory ( ) ; } public Long getPid ( ) { return Long . valueOf ( process . getProcessId ( ) ) ; } } 
