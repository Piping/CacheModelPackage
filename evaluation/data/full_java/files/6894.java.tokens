package org . elasticsearch . monitor . jvm ; import org . elasticsearch . common . component . AbstractComponent ; import org . elasticsearch . common . settings . Settings ; import org . elasticsearch . common . unit . TimeValue ; public class JvmService extends AbstractComponent { private final JvmInfo jvmInfo ; private final TimeValue refreshInterval ; private JvmStats jvmStats ; public JvmService ( Settings settings ) { super ( settings ) ; this . jvmInfo = JvmInfo . jvmInfo ( ) ; this . jvmStats = JvmStats . jvmStats ( ) ; this . refreshInterval = this . settings . getAsTime ( <str> , TimeValue . timeValueSeconds ( <int> ) ) ; logger . debug ( <str> , refreshInterval ) ; } public JvmInfo info ( ) { return this . jvmInfo ; } public synchronized JvmStats stats ( ) { if ( ( System . currentTimeMillis ( ) - jvmStats . getTimestamp ( ) ) > refreshInterval . millis ( ) ) { jvmStats = JvmStats . jvmStats ( ) ; } return jvmStats ; } } 
