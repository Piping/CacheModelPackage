package org . gradle . util ; import org . apache . tools . ant . Project ; import org . apache . tools . ant . ProjectHelper ; import org . apache . tools . ant . Task ; import org . gradle . api . internal . project . ant . AntLoggingAdapter ; public class AntUtil { public static Project createProject ( ) { final Project project = new Project ( ) ; final ProjectHelper helper = ProjectHelper . getProjectHelper ( ) ; project . addReference ( ProjectHelper . PROJECTHELPER_REFERENCE , helper ) ; helper . getImportStack ( ) . addElement ( <str> ) ; project . addBuildListener ( new AntLoggingAdapter ( ) ) ; project . init ( ) ; project . getBaseDir ( ) ; return project ; } public static void execute ( Task task ) { task . setProject ( createProject ( ) ) ; task . execute ( ) ; } } 
