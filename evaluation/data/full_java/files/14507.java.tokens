package org . gradle . internal . nativeintegration . console ; import net . rubygrapefruit . platform . Terminals ; import static net . rubygrapefruit . platform . Terminals . Output . Stderr ; import static net . rubygrapefruit . platform . Terminals . Output . Stdout ; public class NativePlatformConsoleDetector implements ConsoleDetector { private final Terminals terminals ; public NativePlatformConsoleDetector ( Terminals terminals ) { this . terminals = terminals ; } public ConsoleMetaData getConsole ( ) { String term = System . getenv ( <str> ) ; if ( term ! = null & & term . equals ( <str> ) ) { return null ; } boolean stdout = terminals . isTerminal ( Stdout ) ; boolean stderr = terminals . isTerminal ( Stderr ) ; if ( stdout ) { return new NativePlatformConsoleMetaData ( stdout , stderr , terminals . getTerminal ( Stdout ) ) ; } else if ( stderr ) { return new NativePlatformConsoleMetaData ( stdout , stderr , terminals . getTerminal ( Stderr ) ) ; } return null ; } } 
