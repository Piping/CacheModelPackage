package org . gradle . api . internal . tasks . testing . testng ; import org . gradle . api . internal . tasks . testing . detection . AbstractTestFrameworkDetector ; import org . gradle . api . internal . tasks . testing . detection . ClassFileExtractionManager ; import org . gradle . api . internal . tasks . testing . detection . TestClassVisitor ; import org . slf4j . Logger ; import org . slf4j . LoggerFactory ; import java . io . File ; class TestNGDetector extends AbstractTestFrameworkDetector < TestNGTestClassDetecter > { private static final Logger LOGGER = LoggerFactory . getLogger ( TestNGDetector . class ) ; TestNGDetector ( ClassFileExtractionManager classFileExtractionManager ) { super ( classFileExtractionManager ) ; } protected TestNGTestClassDetecter createClassVisitor ( ) { return new TestNGTestClassDetecter ( this ) ; } protected boolean processTestClass ( final File testClassFile , boolean superClass ) { final TestClassVisitor classVisitor = classVisitor ( testClassFile ) ; boolean isTest = classVisitor . isTest ( ) ; if ( ! isTest ) { final String superClassName = classVisitor . getSuperClassName ( ) ; final File superClassFile = getSuperTestClassFile ( superClassName ) ; if ( superClassFile ! = null ) { isTest = processSuperClass ( superClassFile ) ; } else { LOGGER . debug ( <str> , superClassName ) ; } } publishTestClass ( isTest , classVisitor , superClass ) ; return isTest ; } } 
