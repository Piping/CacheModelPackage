package org . apache . cassandra . db . monitoring ; import java . util . concurrent . TimeUnit ; import org . slf4j . Logger ; import org . slf4j . LoggerFactory ; import org . apache . cassandra . concurrent . ScheduledExecutors ; import org . apache . cassandra . config . Config ; public class ApproximateTime { private static final Logger logger = LoggerFactory . getLogger ( ApproximateTime . class ) ; private static final int CHECK_INTERVAL_MS = Math . max ( <int> , Integer . valueOf ( System . getProperty ( Config . PROPERTY_PREFIX + <str> , <str> ) ) ) ; private static volatile long time = System . currentTimeMillis ( ) ; static { logger . info ( <str> , CHECK_INTERVAL_MS ) ; ScheduledExecutors . scheduledFastTasks . scheduleWithFixedDelay ( ( ) - > time = System . currentTimeMillis ( ) , CHECK_INTERVAL_MS , CHECK_INTERVAL_MS , TimeUnit . MILLISECONDS ) ; } public static long currentTimeMillis ( ) { return time ; } public static long precision ( ) { return <int> * CHECK_INTERVAL_MS ; } } 
