package org . apache . cassandra . stress . generate . values ; import org . apache . cassandra . db . marshal . UTF8Type ; public class HexStrings extends Generator < String > { private final char [ ] chars ; public HexStrings ( String name , GeneratorConfig config ) { super ( UTF8Type . instance , config , name , String . class ) ; chars = new char [ ( int ) sizeDistribution . maxValue ( ) ] ; } @Override public String generate ( ) { long seed = identityDistribution . next ( ) ; sizeDistribution . setSeed ( seed ) ; int size = ( int ) sizeDistribution . next ( ) ; for ( int i = <int> ; i < size ; i + = <int> ) { long value = identityDistribution . next ( ) ; for ( int j = <int> ; j < <int> & & i + j < size ; j + + ) { int v = ( int ) ( value & <int> ) ; chars [ i + j ] = ( char ) ( ( v < <int> ? <str> : <str> ) + v ) ; value > > > = <int> ; } } return new String ( chars , <int> , size ) ; } } 
