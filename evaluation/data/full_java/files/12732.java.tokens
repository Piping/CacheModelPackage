package org . gradle . api . internal . artifacts . mvnsettings ; import org . apache . maven . settings . Settings ; import org . apache . maven . settings . building . * ; public class DefaultMavenSettingsProvider implements MavenSettingsProvider { private final MavenFileLocations mavenFileLocations ; public DefaultMavenSettingsProvider ( MavenFileLocations mavenFileLocations ) { this . mavenFileLocations = mavenFileLocations ; } public Settings buildSettings ( ) throws SettingsBuildingException { DefaultSettingsBuilderFactory factory = new DefaultSettingsBuilderFactory ( ) ; DefaultSettingsBuilder defaultSettingsBuilder = factory . newInstance ( ) ; DefaultSettingsBuildingRequest settingsBuildingRequest = new DefaultSettingsBuildingRequest ( ) ; settingsBuildingRequest . setSystemProperties ( System . getProperties ( ) ) ; settingsBuildingRequest . setUserSettingsFile ( mavenFileLocations . getUserSettingsFile ( ) ) ; settingsBuildingRequest . setGlobalSettingsFile ( mavenFileLocations . getGlobalSettingsFile ( ) ) ; SettingsBuildingResult settingsBuildingResult = defaultSettingsBuilder . build ( settingsBuildingRequest ) ; return settingsBuildingResult . getEffectiveSettings ( ) ; } } 
