package org . gradle . api . publish . internal ; import org . gradle . api . artifacts . PublishException ; import org . gradle . api . publish . Publication ; public abstract class PublishOperation implements Runnable { private final Publication publication ; private final String repository ; protected PublishOperation ( Publication publication , String repository ) { this . publication = publication ; this . repository = repository ; } protected abstract void publish ( ) throws Exception ; public void run ( ) { try { publish ( ) ; } catch ( Exception e ) { throw new PublishException ( String . format ( <str> , publication . getName ( ) , repository ) , e ) ; } } } 
