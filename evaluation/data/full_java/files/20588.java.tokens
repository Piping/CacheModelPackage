package com . nostra13 . universalimageloader . sample . activity ; import android . os . Bundle ; import android . support . v4 . app . Fragment ; import android . support . v4 . app . FragmentActivity ; import android . support . v4 . app . FragmentManager ; import android . support . v4 . app . FragmentPagerAdapter ; import android . support . v4 . view . ViewPager ; import com . nostra13 . universalimageloader . sample . R ; import com . nostra13 . universalimageloader . sample . fragment . ImageGridFragment ; import com . nostra13 . universalimageloader . sample . fragment . ImageListFragment ; public class ComplexImageActivity extends FragmentActivity { private static final String STATE_POSITION = <str> ; private ViewPager pager ; @Override public void onCreate ( Bundle savedInstanceState ) { super . onCreate ( savedInstanceState ) ; setContentView ( R . layout . ac_complex ) ; int pagerPosition = savedInstanceState = = null ? <int> : savedInstanceState . getInt ( STATE_POSITION ) ; pager = ( ViewPager ) findViewById ( R . id . pager ) ; pager . setAdapter ( new ImagePagerAdapter ( getSupportFragmentManager ( ) ) ) ; pager . setCurrentItem ( pagerPosition ) ; } @Override public void onSaveInstanceState ( Bundle outState ) { outState . putInt ( STATE_POSITION , pager . getCurrentItem ( ) ) ; } private class ImagePagerAdapter extends FragmentPagerAdapter { Fragment listFragment ; Fragment gridFragment ; ImagePagerAdapter ( FragmentManager fm ) { super ( fm ) ; listFragment = new ImageListFragment ( ) ; gridFragment = new ImageGridFragment ( ) ; } @Override public int getCount ( ) { return <int> ; } @Override public Fragment getItem ( int position ) { switch ( position ) { case <int> : return listFragment ; case <int> : return gridFragment ; default : return null ; } } @Override public CharSequence getPageTitle ( int position ) { switch ( position ) { case <int> : return getString ( R . string . title_list ) ; case <int> : return getString ( R . string . title_grid ) ; default : return null ; } } } } 
