package org . elasticsearch . rest . action . admin . cluster . snapshots . restore ; import org . elasticsearch . action . admin . cluster . snapshots . restore . RestoreSnapshotRequest ; import org . elasticsearch . action . admin . cluster . snapshots . restore . RestoreSnapshotResponse ; import org . elasticsearch . client . Client ; import org . elasticsearch . common . inject . Inject ; import org . elasticsearch . common . settings . Settings ; import org . elasticsearch . rest . * ; import org . elasticsearch . rest . action . support . RestToXContentListener ; import static org . elasticsearch . client . Requests . restoreSnapshotRequest ; import static org . elasticsearch . rest . RestRequest . Method . POST ; public class RestRestoreSnapshotAction extends BaseRestHandler { @Inject public RestRestoreSnapshotAction ( Settings settings , RestController controller , Client client ) { super ( settings , controller , client ) ; controller . registerHandler ( POST , <str> , this ) ; } @Override public void handleRequest ( final RestRequest request , final RestChannel channel , final Client client ) { RestoreSnapshotRequest restoreSnapshotRequest = restoreSnapshotRequest ( request . param ( <str> ) , request . param ( <str> ) ) ; restoreSnapshotRequest . masterNodeTimeout ( request . paramAsTime ( <str> , restoreSnapshotRequest . masterNodeTimeout ( ) ) ) ; restoreSnapshotRequest . waitForCompletion ( request . paramAsBoolean ( <str> , false ) ) ; restoreSnapshotRequest . source ( request . content ( ) . toUtf8 ( ) ) ; client . admin ( ) . cluster ( ) . restoreSnapshot ( restoreSnapshotRequest , new RestToXContentListener < RestoreSnapshotResponse > ( channel ) ) ; } } 
