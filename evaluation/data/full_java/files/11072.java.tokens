package org . gradle . integtests ; import org . codehaus . groovy . runtime . DefaultGroovyMethods ; import org . gradle . api . DefaultTask ; import org . gradle . api . tasks . Input ; import org . gradle . api . tasks . InputFile ; import org . gradle . api . tasks . OutputFile ; import org . gradle . api . tasks . TaskAction ; import java . io . File ; import java . io . IOException ; public class TransformerTask extends DefaultTask { private File inputFile ; private File outputFile ; private String format = <str> ; @InputFile public File getInputFile ( ) { return inputFile ; } public void setInputFile ( File inputFile ) { this . inputFile = inputFile ; } @OutputFile public File getOutputFile ( ) { return outputFile ; } public void setOutputFile ( File outputFile ) { this . outputFile = outputFile ; } @Input public String getFormat ( ) { return format ; } public void setFormat ( String format ) { this . format = format ; } @TaskAction public void transform ( ) throws IOException { String text = DefaultGroovyMethods . getText ( inputFile ) ; DefaultGroovyMethods . setText ( outputFile , String . format ( format , text ) ) ; } } 
