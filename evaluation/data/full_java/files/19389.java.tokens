package io . netty . handler . codec . http2 . hpack ; import java . util . Arrays ; import java . util . HashMap ; import java . util . List ; import java . util . Map ; final class StaticTable { private static final String EMPTY = <str> ; private static final List < HeaderField > STATIC_TABLE = Arrays . asList ( new HeaderField ( <str> , EMPTY ) , new HeaderField ( <str> , <str> ) , new HeaderField ( <str> , <str> ) , new HeaderField ( <str> , <str> ) , new HeaderField ( <str> , <str> ) , new HeaderField ( <str> , <str> ) , new HeaderField ( <str> , <str> ) , new HeaderField ( <str> , <str> ) , new HeaderField ( <str> , <str> ) , new HeaderField ( <str> , <str> ) , new HeaderField ( <str> , <str> ) , new HeaderField ( <str> , <str> ) , new HeaderField ( <str> , <str> ) , new HeaderField ( <str> , <str> ) , new HeaderField ( <str> , EMPTY ) , new HeaderField ( <str> , <str> ) , new HeaderField ( <str> , EMPTY ) , new HeaderField ( <str> , EMPTY ) , new HeaderField ( <str> , EMPTY ) , new HeaderField ( <str> , EMPTY ) , new HeaderField ( <str> , EMPTY ) , new HeaderField ( <str> , EMPTY ) , new HeaderField ( <str> , EMPTY ) , new HeaderField ( <str> , EMPTY ) , new HeaderField ( <str> , EMPTY ) , new HeaderField ( <str> , EMPTY ) , new HeaderField ( <str> , EMPTY ) , new HeaderField ( <str> , EMPTY ) , new HeaderField ( <str> , EMPTY ) , new HeaderField ( <str> , EMPTY ) , new HeaderField ( <str> , EMPTY ) , new HeaderField ( <str> , EMPTY ) , new HeaderField ( <str> , EMPTY ) , new HeaderField ( <str> , EMPTY ) , new HeaderField ( <str> , EMPTY ) , new HeaderField ( <str> , EMPTY ) , new HeaderField ( <str> , EMPTY ) , new HeaderField ( <str> , EMPTY ) , new HeaderField ( <str> , EMPTY ) , new HeaderField ( <str> , EMPTY ) , new HeaderField ( <str> , EMPTY ) , new HeaderField ( <str> , EMPTY ) , new HeaderField ( <str> , EMPTY ) , new HeaderField ( <str> , EMPTY ) , new HeaderField ( <str> , EMPTY ) , new HeaderField ( <str> , EMPTY ) , new HeaderField ( <str> , EMPTY ) , new HeaderField ( <str> , EMPTY ) , new HeaderField ( <str> , EMPTY ) , new HeaderField ( <str> , EMPTY ) , new HeaderField ( <str> , EMPTY ) , new HeaderField ( <str> , EMPTY ) , new HeaderField ( <str> , EMPTY ) , new HeaderField ( <str> , EMPTY ) , new HeaderField ( <str> , EMPTY ) , new HeaderField ( <str> , EMPTY ) , new HeaderField ( <str> , EMPTY ) , new HeaderField ( <str> , EMPTY ) , new HeaderField ( <str> , EMPTY ) , new HeaderField ( <str> , EMPTY ) , new HeaderField ( <str> , EMPTY ) ) ; private static final Map < String , Integer > STATIC_INDEX_BY_NAME = createMap ( ) ; static final int length = STATIC_TABLE . size ( ) ; static HeaderField getEntry ( int index ) { return STATIC_TABLE . get ( index - <int> ) ; } static int getIndex ( byte [ ] name ) { String nameString = new String ( name , <int> , name . length , HpackUtil . ISO_8859_1 ) ; Integer index = STATIC_INDEX_BY_NAME . get ( nameString ) ; if ( index = = null ) { return - <int> ; } return index ; } static int getIndex ( byte [ ] name , byte [ ] value ) { int index = getIndex ( name ) ; if ( index = = - <int> ) { return - <int> ; } while ( index < = length ) { HeaderField entry = getEntry ( index ) ; if ( ! HpackUtil . equals ( name , entry . name ) ) { break ; } if ( HpackUtil . equals ( value , entry . value ) ) { return index ; } index + + ; } return - <int> ; } private static Map < String , Integer > createMap ( ) { int length = STATIC_TABLE . size ( ) ; HashMap < String , Integer > ret = new HashMap < String , Integer > ( length ) ; for ( int index = length ; index > <int> ; index - - ) { HeaderField entry = getEntry ( index ) ; String name = new String ( entry . name , <int> , entry . name . length , HpackUtil . ISO_8859_1 ) ; ret . put ( name , index ) ; } return ret ; } private StaticTable ( ) { } } 
