package org . elasticsearch . search . aggregations . bucket . sampler ; import org . elasticsearch . common . io . stream . StreamInput ; import org . elasticsearch . search . aggregations . AggregationStreams ; import org . elasticsearch . search . aggregations . InternalAggregations ; import org . elasticsearch . search . aggregations . bucket . InternalSingleBucketAggregation ; import org . elasticsearch . search . aggregations . pipeline . PipelineAggregator ; import java . io . IOException ; import java . util . List ; import java . util . Map ; public class InternalSampler extends InternalSingleBucketAggregation implements Sampler { public final static Type TYPE = new Type ( <str> ) ; public final static AggregationStreams . Stream STREAM = new AggregationStreams . Stream ( ) { @Override public InternalSampler readResult ( StreamInput in ) throws IOException { InternalSampler result = new InternalSampler ( ) ; result . readFrom ( in ) ; return result ; } } ; public static void registerStreams ( ) { AggregationStreams . registerStream ( STREAM , TYPE . stream ( ) ) ; } InternalSampler ( ) { } InternalSampler ( String name , long docCount , InternalAggregations subAggregations , List < PipelineAggregator > pipelineAggregators , Map < String , Object > metaData ) { super ( name , docCount , subAggregations , pipelineAggregators , metaData ) ; } @Override public Type type ( ) { return TYPE ; } @Override protected InternalSingleBucketAggregation newAggregation ( String name , long docCount , InternalAggregations subAggregations ) { return new InternalSampler ( name , docCount , subAggregations , pipelineAggregators ( ) , metaData ) ; } } 
