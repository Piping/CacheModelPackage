package com . google . common . cache ; import static org . easymock . EasyMock . createMock ; import static org . easymock . EasyMock . expect ; import static org . easymock . EasyMock . replay ; import static org . easymock . EasyMock . verify ; import com . google . common . collect . ImmutableList ; import com . google . common . collect . ImmutableMap ; import junit . framework . TestCase ; import java . util . concurrent . ExecutionException ; public class ForwardingLoadingCacheTest extends TestCase { private LoadingCache < String , Boolean > forward ; private LoadingCache < String , Boolean > mock ; @SuppressWarnings ( <str> ) @Override public void setUp ( ) throws Exception { super . setUp ( ) ; mock = createMock ( LoadingCache . class ) ; forward = new ForwardingLoadingCache < String , Boolean > ( ) { @Override protected LoadingCache < String , Boolean > delegate ( ) { return mock ; } } ; } public void testGet ( ) throws ExecutionException { expect ( mock . get ( <str> ) ) . andReturn ( Boolean . TRUE ) ; replay ( mock ) ; assertSame ( Boolean . TRUE , forward . get ( <str> ) ) ; verify ( mock ) ; } public void testGetUnchecked ( ) { expect ( mock . getUnchecked ( <str> ) ) . andReturn ( Boolean . TRUE ) ; replay ( mock ) ; assertSame ( Boolean . TRUE , forward . getUnchecked ( <str> ) ) ; verify ( mock ) ; } public void testGetAll ( ) throws ExecutionException { expect ( mock . getAll ( ImmutableList . of ( <str> ) ) ) . andReturn ( ImmutableMap . of ( <str> , Boolean . TRUE ) ) ; replay ( mock ) ; assertEquals ( ImmutableMap . of ( <str> , Boolean . TRUE ) , forward . getAll ( ImmutableList . of ( <str> ) ) ) ; verify ( mock ) ; } public void testApply ( ) { expect ( mock . apply ( <str> ) ) . andReturn ( Boolean . TRUE ) ; replay ( mock ) ; assertSame ( Boolean . TRUE , forward . apply ( <str> ) ) ; verify ( mock ) ; } public void testInvalidate ( ) { mock . invalidate ( <str> ) ; replay ( mock ) ; forward . invalidate ( <str> ) ; verify ( mock ) ; } public void testRefresh ( ) throws ExecutionException { mock . refresh ( <str> ) ; replay ( mock ) ; forward . refresh ( <str> ) ; verify ( mock ) ; } public void testInvalidateAll ( ) { mock . invalidateAll ( ) ; replay ( mock ) ; forward . invalidateAll ( ) ; verify ( mock ) ; } public void testSize ( ) { expect ( mock . size ( ) ) . andReturn ( <int> L ) ; replay ( mock ) ; forward . size ( ) ; verify ( mock ) ; } public void testStats ( ) { expect ( mock . stats ( ) ) . andReturn ( null ) ; replay ( mock ) ; assertNull ( forward . stats ( ) ) ; verify ( mock ) ; } public void testAsMap ( ) { expect ( mock . asMap ( ) ) . andReturn ( null ) ; replay ( mock ) ; assertNull ( forward . asMap ( ) ) ; verify ( mock ) ; } public void testCleanUp ( ) { mock . cleanUp ( ) ; replay ( mock ) ; forward . cleanUp ( ) ; verify ( mock ) ; } private static class OnlyGet < K , V > extends ForwardingLoadingCache < K , V > { @Override protected LoadingCache < K , V > delegate ( ) { return null ; } } } 
