package org . elasticsearch . common . inject ; import org . elasticsearch . common . inject . binder . AnnotatedBindingBuilder ; import org . elasticsearch . common . inject . binder . AnnotatedConstantBindingBuilder ; import org . elasticsearch . common . inject . binder . LinkedBindingBuilder ; import org . elasticsearch . common . inject . matcher . Matcher ; import org . elasticsearch . common . inject . spi . Message ; import org . elasticsearch . common . inject . spi . TypeConverter ; import org . elasticsearch . common . inject . spi . TypeListener ; import java . lang . annotation . Annotation ; import java . util . Objects ; public abstract class AbstractModule implements Module { Binder binder ; @Override public final synchronized void configure ( Binder builder ) { if ( this . binder ! = null ) { throw new IllegalStateException ( <str> ) ; } this . binder = Objects . requireNonNull ( builder , <str> ) ; try { configure ( ) ; } finally { this . binder = null ; } } protected abstract void configure ( ) ; protected Binder binder ( ) { return binder ; } protected void bindScope ( Class < ? extends Annotation > scopeAnnotation , Scope scope ) { binder . bindScope ( scopeAnnotation , scope ) ; } protected < T > LinkedBindingBuilder < T > bind ( Key < T > key ) { return binder . bind ( key ) ; } protected < T > AnnotatedBindingBuilder < T > bind ( TypeLiteral < T > typeLiteral ) { return binder . bind ( typeLiteral ) ; } protected < T > AnnotatedBindingBuilder < T > bind ( Class < T > clazz ) { return binder . bind ( clazz ) ; } protected AnnotatedConstantBindingBuilder bindConstant ( ) { return binder . bindConstant ( ) ; } protected void install ( Module module ) { binder . install ( module ) ; } protected void addError ( String message , Object . . . arguments ) { binder . addError ( message , arguments ) ; } protected void addError ( Throwable t ) { binder . addError ( t ) ; } protected void addError ( Message message ) { binder . addError ( message ) ; } protected void requestInjection ( Object instance ) { binder . requestInjection ( instance ) ; } protected void requestStaticInjection ( Class < ? > . . . types ) { binder . requestStaticInjection ( types ) ; } protected void requireBinding ( Key < ? > key ) { binder . getProvider ( key ) ; } protected void requireBinding ( Class < ? > type ) { binder . getProvider ( type ) ; } protected < T > Provider < T > getProvider ( Key < T > key ) { return binder . getProvider ( key ) ; } protected < T > Provider < T > getProvider ( Class < T > type ) { return binder . getProvider ( type ) ; } protected void convertToTypes ( Matcher < ? super TypeLiteral < ? > > typeMatcher , TypeConverter converter ) { binder . convertToTypes ( typeMatcher , converter ) ; } protected Stage currentStage ( ) { return binder . currentStage ( ) ; } protected < T > MembersInjector < T > getMembersInjector ( Class < T > type ) { return binder . getMembersInjector ( type ) ; } protected < T > MembersInjector < T > getMembersInjector ( TypeLiteral < T > type ) { return binder . getMembersInjector ( type ) ; } protected void bindListener ( Matcher < ? super TypeLiteral < ? > > typeMatcher , TypeListener listener ) { binder . bindListener ( typeMatcher , listener ) ; } } 
