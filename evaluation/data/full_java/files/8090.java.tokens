package org . elasticsearch . index . analysis ; import org . elasticsearch . Version ; import org . elasticsearch . cluster . metadata . IndexMetaData ; import org . elasticsearch . common . settings . Settings ; import org . elasticsearch . indices . analysis . PreBuiltAnalyzers ; import org . elasticsearch . test . ESTestCase ; import static org . hamcrest . Matchers . is ; import static org . hamcrest . Matchers . not ; public class PreBuiltAnalyzerProviderFactoryTests extends ESTestCase { public void testVersioningInFactoryProvider ( ) throws Exception { PreBuiltAnalyzerProviderFactory factory = new PreBuiltAnalyzerProviderFactory ( <str> , AnalyzerScope . INDEX , PreBuiltAnalyzers . STANDARD . getAnalyzer ( Version . CURRENT ) ) ; AnalyzerProvider former090AnalyzerProvider = factory . create ( <str> , Settings . settingsBuilder ( ) . put ( IndexMetaData . SETTING_VERSION_CREATED , Version . V_0_90_0 ) . build ( ) ) ; AnalyzerProvider currentAnalyzerProviderReference = factory . create ( <str> , Settings . settingsBuilder ( ) . put ( IndexMetaData . SETTING_VERSION_CREATED , Version . CURRENT ) . build ( ) ) ; assertThat ( currentAnalyzerProviderReference , is ( not ( former090AnalyzerProvider ) ) ) ; } } 
