package com . google . common . io ; import java . io . ByteArrayOutputStream ; public class CountingOutputStreamTest extends IoTestCase { public void testCount ( ) throws Exception { int written = <int> ; ByteArrayOutputStream out = new ByteArrayOutputStream ( ) ; CountingOutputStream counter = new CountingOutputStream ( out ) ; assertEquals ( written , out . size ( ) ) ; assertEquals ( written , counter . getCount ( ) ) ; counter . write ( <int> ) ; written + = <int> ; assertEquals ( written , out . size ( ) ) ; assertEquals ( written , counter . getCount ( ) ) ; byte [ ] data = new byte [ <int> ] ; counter . write ( data ) ; written + = <int> ; assertEquals ( written , out . size ( ) ) ; assertEquals ( written , counter . getCount ( ) ) ; counter . write ( data , <int> , <int> ) ; written + = <int> ; assertEquals ( written , out . size ( ) ) ; assertEquals ( written , counter . getCount ( ) ) ; counter . write ( data , <int> , <int> ) ; written + = <int> ; assertEquals ( written , out . size ( ) ) ; assertEquals ( written , counter . getCount ( ) ) ; try { counter . write ( data , <int> , data . length + <int> ) ; fail ( <str> ) ; } catch ( IndexOutOfBoundsException expected ) { } assertEquals ( written , out . size ( ) ) ; assertEquals ( written , counter . getCount ( ) ) ; } } 
