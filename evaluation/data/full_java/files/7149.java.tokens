package org . elasticsearch . search . aggregations . bucket ; public class BucketUtils { public static int suggestShardSideQueueSize ( int finalSize , int numberOfShards ) { assert numberOfShards > = <int> ; if ( numberOfShards = = <int> ) { return finalSize ; } final long shardSampleSize = ( long ) finalSize * Math . min ( <int> , numberOfShards ) ; return ( int ) Math . min ( Integer . MAX_VALUE , Math . max ( <int> , shardSampleSize ) ) ; } } 
