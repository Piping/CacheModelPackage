package org . gradle . wrapper ; import java . io . File ; import java . lang . reflect . Method ; import java . net . URL ; import java . net . URLClassLoader ; public class BootstrapMainStarter { public void start ( String [ ] args , File gradleHome ) throws Exception { File gradleJar = findLauncherJar ( gradleHome ) ; URLClassLoader contextClassLoader = new URLClassLoader ( new URL [ ] { gradleJar . toURI ( ) . toURL ( ) } , ClassLoader . getSystemClassLoader ( ) . getParent ( ) ) ; Thread . currentThread ( ) . setContextClassLoader ( contextClassLoader ) ; Class < ? > mainClass = contextClassLoader . loadClass ( <str> ) ; Method mainMethod = mainClass . getMethod ( <str> , String [ ] . class ) ; mainMethod . invoke ( null , new Object [ ] { args } ) ; } private File findLauncherJar ( File gradleHome ) { for ( File file : new File ( gradleHome , <str> ) . listFiles ( ) ) { if ( file . getName ( ) . matches ( <str> ) ) { return file ; } } throw new RuntimeException ( String . format ( <str> , gradleHome ) ) ; } } 
