package org . gradle . api . internal . artifacts . ivyservice . modulecache ; import org . gradle . api . artifacts . ResolvedModuleVersion ; import org . gradle . api . internal . artifacts . ivyservice . dynamicversions . DefaultResolvedModuleVersion ; import org . gradle . internal . component . external . model . MutableModuleComponentResolveMetaData ; import org . gradle . internal . component . model . ModuleSource ; import org . gradle . util . BuildCommencedTimeProvider ; import java . math . BigInteger ; class DefaultCachedMetaData implements ModuleMetaDataCache . CachedMetaData { private final ModuleSource moduleSource ; private final BigInteger descriptorHash ; private final long ageMillis ; private final MutableModuleComponentResolveMetaData metaData ; public DefaultCachedMetaData ( ModuleDescriptorCacheEntry entry , MutableModuleComponentResolveMetaData metaData , BuildCommencedTimeProvider timeProvider ) { this . moduleSource = entry . moduleSource ; this . descriptorHash = entry . moduleDescriptorHash ; this . ageMillis = timeProvider . getCurrentTime ( ) - entry . createTimestamp ; this . metaData = metaData ; } public boolean isMissing ( ) { return metaData = = null ; } public ModuleSource getModuleSource ( ) { return moduleSource ; } public ResolvedModuleVersion getModuleVersion ( ) { return isMissing ( ) ? null : new DefaultResolvedModuleVersion ( getMetaData ( ) . getId ( ) ) ; } public MutableModuleComponentResolveMetaData getMetaData ( ) { return metaData ; } public long getAgeMillis ( ) { return ageMillis ; } public BigInteger getDescriptorHash ( ) { return descriptorHash ; } } 
