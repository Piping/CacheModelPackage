package org . gradle . profile ; import org . gradle . BuildAdapter ; import org . gradle . api . invocation . Gradle ; import java . io . File ; import java . text . SimpleDateFormat ; import java . util . Date ; public class ReportGeneratingProfileListener extends BuildAdapter implements ProfileListener { private static final SimpleDateFormat FILE_DATE_FORMAT = new SimpleDateFormat ( <str> ) ; private File buildDir ; @Override public void projectsEvaluated ( Gradle gradle ) { buildDir = gradle . getRootProject ( ) . getBuildDir ( ) ; } public void buildFinished ( BuildProfile buildProfile ) { ProfileReportRenderer renderer = new ProfileReportRenderer ( ) ; File file = new File ( buildDir , <str> + FILE_DATE_FORMAT . format ( new Date ( buildProfile . getBuildStarted ( ) ) ) + <str> ) ; renderer . writeTo ( buildProfile , file ) ; } } 
