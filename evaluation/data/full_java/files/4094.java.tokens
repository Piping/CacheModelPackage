package org . eclipse . debug . internal . ui . actions . expressions ; import org . eclipse . core . expressions . PropertyTester ; import org . eclipse . debug . core . DebugPlugin ; import org . eclipse . debug . core . model . IVariable ; import org . eclipse . debug . ui . actions . IWatchExpressionFactoryAdapter ; import org . eclipse . debug . ui . actions . IWatchExpressionFactoryAdapter2 ; import org . eclipse . debug . ui . actions . IWatchExpressionFactoryAdapterExtension ; public class WatchExpressionFactoryTester extends PropertyTester { public static final String CAN_CREATE_WATCH_EXPRESSION_PROPERTY = <str> ; @Override public boolean test ( Object element , String property , Object [ ] args , Object expectedValue ) { if ( CAN_CREATE_WATCH_EXPRESSION_PROPERTY . equals ( property ) ) { if ( element instanceof IVariable ) { IVariable variable = ( IVariable ) element ; if ( DebugPlugin . getDefault ( ) . getExpressionManager ( ) . hasWatchExpressionDelegate ( variable . getModelIdentifier ( ) ) ) { IWatchExpressionFactoryAdapter factory = WatchHandler . getFactory ( variable ) ; if ( factory instanceof IWatchExpressionFactoryAdapterExtension ) { IWatchExpressionFactoryAdapterExtension ext = ( IWatchExpressionFactoryAdapterExtension ) factory ; return ext . canCreateWatchExpression ( variable ) ; } return true ; } } else { IWatchExpressionFactoryAdapter2 factory2 = WatchHandler . getFactory2 ( element ) ; if ( factory2 ! = null ) { return factory2 . canCreateWatchExpression ( element ) ; } } } return false ; } } 
