package org . eclipse . debug . internal . ui . views . memory . renderings ; import java . util . ArrayList ; import org . eclipse . debug . internal . core . IInternalDebugCoreConstants ; import org . eclipse . jface . viewers . StructuredViewer ; import org . eclipse . swt . widgets . Table ; import org . eclipse . swt . widgets . TableItem ; public class AsyncCopyTableRenderingAction extends CopyTableRenderingToClipboardAction { public AsyncCopyTableRenderingAction ( AbstractBaseTableRendering rendering , StructuredViewer viewer ) { super ( rendering , viewer ) ; } @Override protected String concatenateTableAsString ( TableItem [ ] itemList ) { Table table = null ; if ( itemList . length > <int> ) { table = itemList [ <int> ] . getParent ( ) ; int topIndex = table . getTopIndex ( ) ; int itemCount = table . getItemCount ( ) ; int numVisibleLines = Math . min ( ( table . getBounds ( ) . height / table . getItemHeight ( ) ) + <int> , itemCount - topIndex ) ; ArrayList < TableItem > items = new ArrayList < TableItem > ( ) ; for ( int i = topIndex ; i < topIndex + numVisibleLines ; i + + ) { if ( itemList [ i ] . getData ( ) ! = null ) { items . add ( itemList [ i ] ) ; } else { break ; } } return super . concatenateTableAsString ( items . toArray ( new TableItem [ items . size ( ) ] ) ) ; } return IInternalDebugCoreConstants . EMPTY_STRING ; } } 
