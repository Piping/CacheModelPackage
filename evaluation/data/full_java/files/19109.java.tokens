package io . netty . handler . codec . http ; import io . netty . buffer . ByteBuf ; import static io . netty . handler . codec . http . HttpConstants . * ; public class HttpResponseEncoder extends HttpObjectEncoder < HttpResponse > { private static final byte [ ] CRLF = { CR , LF } ; @Override public boolean acceptOutboundMessage ( Object msg ) throws Exception { return super . acceptOutboundMessage ( msg ) & & ! ( msg instanceof HttpRequest ) ; } @Override protected void encodeInitialLine ( ByteBuf buf , HttpResponse response ) throws Exception { response . protocolVersion ( ) . encode ( buf ) ; buf . writeByte ( SP ) ; response . status ( ) . encode ( buf ) ; buf . writeBytes ( CRLF ) ; } } 
