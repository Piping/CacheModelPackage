package com . badlogic . gdx . tools . particleeditor ; import java . awt . FileDialog ; import java . awt . GridBagConstraints ; import java . awt . Insets ; import java . awt . event . ActionEvent ; import java . awt . event . ActionListener ; import java . io . File ; import javax . swing . ImageIcon ; import javax . swing . JButton ; import javax . swing . JLabel ; import javax . swing . JPanel ; import com . badlogic . gdx . graphics . g2d . ParticleEmitter ; class ImagePanel extends EditorPanel { JLabel imageLabel ; JLabel widthLabel ; JLabel heightLabel ; String lastDir ; public ImagePanel ( final ParticleEditor editor , String name , String description ) { super ( null , name , description ) ; JPanel contentPanel = getContentPanel ( ) ; { JButton openButton = new JButton ( <str> ) ; contentPanel . add ( openButton , new GridBagConstraints ( <int> , <int> , <int> , <int> , <int> , <int> , GridBagConstraints . NORTHWEST , GridBagConstraints . NONE , new Insets ( <int> , <int> , <int> , <int> ) , <int> , <int> ) ) ; openButton . addActionListener ( new ActionListener ( ) { public void actionPerformed ( ActionEvent event ) { FileDialog dialog = new FileDialog ( editor , <str> , FileDialog . LOAD ) ; if ( lastDir ! = null ) dialog . setDirectory ( lastDir ) ; dialog . setVisible ( true ) ; final String file = dialog . getFile ( ) ; final String dir = dialog . getDirectory ( ) ; if ( dir = = null | | file = = null | | file . trim ( ) . length ( ) = = <int> ) return ; lastDir = dir ; try { ImageIcon icon = new ImageIcon ( new File ( dir , file ) . toURI ( ) . toURL ( ) ) ; final ParticleEmitter emitter = editor . getEmitter ( ) ; editor . setIcon ( emitter , icon ) ; updateIconInfo ( icon ) ; emitter . setImagePath ( new File ( dir , file ) . getAbsolutePath ( ) ) ; emitter . setSprite ( null ) ; } catch ( Exception ex ) { ex . printStackTrace ( ) ; } } } ) ; } { JButton defaultButton = new JButton ( <str> ) ; contentPanel . add ( defaultButton , new GridBagConstraints ( <int> , <int> , <int> , <int> , <int> , <int> , GridBagConstraints . NORTHWEST , GridBagConstraints . NONE , new Insets ( <int> , <int> , <int> , <int> ) , <int> , <int> ) ) ; defaultButton . addActionListener ( new ActionListener ( ) { @Override public void actionPerformed ( ActionEvent e ) { final ParticleEmitter emitter = editor . getEmitter ( ) ; emitter . setImagePath ( ParticleEditor . DEFAULT_PARTICLE ) ; emitter . setSprite ( null ) ; editor . setIcon ( emitter , null ) ; updateIconInfo ( null ) ; } } ) ; JButton defaultPremultButton = new JButton ( <str> ) ; contentPanel . add ( defaultPremultButton , new GridBagConstraints ( <int> , <int> , <int> , <int> , <int> , <int> , GridBagConstraints . NORTHWEST , GridBagConstraints . NONE , new Insets ( <int> , <int> , <int> , <int> ) , <int> , <int> ) ) ; defaultPremultButton . addActionListener ( new ActionListener ( ) { @Override public void actionPerformed ( ActionEvent e ) { final ParticleEmitter emitter = editor . getEmitter ( ) ; emitter . setImagePath ( ParticleEditor . DEFAULT_PREMULT_PARTICLE ) ; emitter . setSprite ( null ) ; editor . setIcon ( emitter , null ) ; updateIconInfo ( null ) ; } } ) ; } { widthLabel = new JLabel ( ) ; contentPanel . add ( widthLabel , new GridBagConstraints ( <int> , <int> , <int> , <int> , <int> , <int> , GridBagConstraints . NORTHWEST , GridBagConstraints . NONE , new Insets ( <int> , <int> , <int> , <int> ) , <int> , <int> ) ) ; } { heightLabel = new JLabel ( ) ; contentPanel . add ( heightLabel , new GridBagConstraints ( <int> , <int> , <int> , <int> , <int> , <int> , GridBagConstraints . NORTHWEST , GridBagConstraints . NONE , new Insets ( <int> , <int> , <int> , <int> ) , <int> , <int> ) ) ; } { imageLabel = new JLabel ( ) ; contentPanel . add ( imageLabel , new GridBagConstraints ( <int> , <int> , <int> , <int> , <int> , <int> , GridBagConstraints . NORTHWEST , GridBagConstraints . NONE , new Insets ( <int> , <int> , <int> , <int> ) , <int> , <int> ) ) ; } updateIconInfo ( editor . getIcon ( editor . getEmitter ( ) ) ) ; } public void updateIconInfo ( ImageIcon icon ) { if ( icon ! = null ) { imageLabel . setIcon ( icon ) ; widthLabel . setText ( <str> + icon . getIconWidth ( ) ) ; heightLabel . setText ( <str> + icon . getIconHeight ( ) ) ; } else { imageLabel . setIcon ( null ) ; widthLabel . setText ( <str> ) ; heightLabel . setText ( <str> ) ; } revalidate ( ) ; } } 
