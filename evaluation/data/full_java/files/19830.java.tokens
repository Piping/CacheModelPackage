package io . netty . example . http2 ; import static io . netty . util . internal . ObjectUtil . checkNotNull ; import io . netty . buffer . ByteBuf ; import io . netty . buffer . Unpooled ; import io . netty . handler . codec . http . QueryStringDecoder ; import java . io . IOException ; import java . io . InputStream ; import java . util . List ; public final class Http2ExampleUtil { public static final String UPGRADE_RESPONSE_HEADER = <str> ; private static final int BLOCK_SIZE = <int> ; private Http2ExampleUtil ( ) { } public static int toInt ( String string , int defaultValue ) { if ( string ! = null & & ! string . isEmpty ( ) ) { return Integer . valueOf ( string ) ; } return defaultValue ; } public static ByteBuf toByteBuf ( InputStream input ) throws IOException { ByteBuf buf = Unpooled . buffer ( ) ; int n = <int> ; do { n = buf . writeBytes ( input , BLOCK_SIZE ) ; } while ( n > <int> ) ; return buf ; } public static String firstValue ( QueryStringDecoder query , String key ) { checkNotNull ( query , <str> ) ; List < String > values = query . parameters ( ) . get ( key ) ; if ( values = = null | | values . isEmpty ( ) ) { return null ; } return values . get ( <int> ) ; } } 
