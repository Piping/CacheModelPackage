package org . apache . cassandra . gms ; import java . net . InetAddress ; import java . util . Map ; import org . slf4j . Logger ; import org . slf4j . LoggerFactory ; import org . apache . cassandra . net . IVerbHandler ; import org . apache . cassandra . net . MessageIn ; public class GossipDigestAck2VerbHandler implements IVerbHandler < GossipDigestAck2 > { private static final Logger logger = LoggerFactory . getLogger ( GossipDigestAck2VerbHandler . class ) ; public void doVerb ( MessageIn < GossipDigestAck2 > message , int id ) { if ( logger . isTraceEnabled ( ) ) { InetAddress from = message . from ; logger . trace ( <str> , from ) ; } if ( ! Gossiper . instance . isEnabled ( ) ) { if ( logger . isTraceEnabled ( ) ) logger . trace ( <str> ) ; return ; } Map < InetAddress , EndpointState > remoteEpStateMap = message . payload . getEndpointStateMap ( ) ; Gossiper . instance . notifyFailureDetector ( remoteEpStateMap ) ; Gossiper . instance . applyStateLocally ( remoteEpStateMap ) ; } } 
