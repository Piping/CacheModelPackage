package org . gradle . api . internal . changedetection . state ; import org . gradle . api . GradleException ; import org . gradle . internal . serialize . * ; import java . util . Map ; import static java . lang . String . format ; class InputPropertiesSerializer implements Serializer < Map < String , Object > > { private final MapSerializer < String , Object > serializer ; InputPropertiesSerializer ( ClassLoader classloader ) { this . serializer = new MapSerializer < String , Object > ( BaseSerializerFactory . STRING_SERIALIZER , new DefaultSerializer < Object > ( classloader ) ) ; } public Map < String , Object > read ( Decoder decoder ) throws Exception { return serializer . read ( decoder ) ; } public void write ( Encoder encoder , Map < String , Object > properties ) throws Exception { try { serializer . write ( encoder , properties ) ; } catch ( MapSerializer . EntrySerializationException e ) { throw new GradleException ( format ( <str> , e . getKey ( ) , e . getValue ( ) ) , e ) ; } } } 
