package com . google . gwt . corp . compatibility ; import java . io . OutputStream ; import java . io . PrintStream ; public class ConsolePrintStream extends PrintStream { StringBuilder buf = new StringBuilder ( ) ; public ConsolePrintStream ( ) { super ( ( OutputStream ) null ) ; } public void print ( String s ) { while ( true ) { int cut = s . indexOf ( <str> ) ; if ( cut = = - <int> ) { break ; } println ( s . substring ( <int> , cut ) ) ; s = s . substring ( cut + <int> ) ; } buf . append ( s ) ; } public native void consoleLog ( String msg ) ; public void print ( char c ) { if ( c = = <str> ) { println ( <str> ) ; } else { buf . append ( c ) ; } } public void println ( ) { println ( <str> ) ; } @Override public void println ( String s ) { buf . append ( s ) ; consoleLog ( buf . toString ( ) ) ; buf . setLength ( <int> ) ; } } 
