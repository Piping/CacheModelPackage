package org . gradle . tooling . internal . consumer ; import org . gradle . api . Transformer ; import org . gradle . tooling . events . OperationDescriptor ; import org . gradle . tooling . events . internal . OperationDescriptorWrapper ; import org . gradle . tooling . events . test . TestOperationDescriptor ; import org . gradle . tooling . internal . protocol . events . InternalTestDescriptor ; import org . gradle . tooling . internal . protocol . test . InternalJvmTestRequest ; import org . gradle . tooling . internal . protocol . test . InternalTestExecutionRequest ; import org . gradle . util . CollectionUtils ; import java . util . Collection ; import java . util . Set ; public class TestExecutionRequest implements InternalTestExecutionRequest { private final Collection < InternalTestDescriptor > testDescriptors ; private final Collection < String > testClassNames ; private final Collection < InternalJvmTestRequest > internalJvmTestRequests ; public TestExecutionRequest ( Iterable < TestOperationDescriptor > operationDescriptors , Collection < String > testClassNames , Set < InternalJvmTestRequest > internalJvmTestRequests ) { this . testDescriptors = adaptDescriptors ( operationDescriptors ) ; this . testClassNames = testClassNames ; this . internalJvmTestRequests = internalJvmTestRequests ; } @Override public Collection < InternalTestDescriptor > getTestExecutionDescriptors ( ) { return testDescriptors ; } public Collection < String > getTestClassNames ( ) { return testClassNames ; } public Collection < InternalJvmTestRequest > getInternalJvmTestRequests ( ) { return internalJvmTestRequests ; } private Collection < InternalTestDescriptor > adaptDescriptors ( Iterable < TestOperationDescriptor > operationDescriptors ) { return CollectionUtils . collect ( operationDescriptors , new Transformer < InternalTestDescriptor , OperationDescriptor > ( ) { @Override public InternalTestDescriptor transform ( OperationDescriptor operationDescriptor ) { return ( InternalTestDescriptor ) ( ( OperationDescriptorWrapper ) operationDescriptor ) . getInternalOperationDescriptor ( ) ; } } ) ; } } 
