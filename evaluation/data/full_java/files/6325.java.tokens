package org . elasticsearch . index . analysis ; import org . apache . lucene . analysis . NumericTokenStream ; import org . joda . time . format . DateTimeFormatter ; import java . io . IOException ; public class NumericDateTokenizer extends NumericTokenizer { public NumericDateTokenizer ( int precisionStep , char [ ] buffer , DateTimeFormatter dateTimeFormatter ) throws IOException { super ( new NumericTokenStream ( precisionStep ) , buffer , dateTimeFormatter ) ; } @Override protected void setValue ( NumericTokenStream tokenStream , String value ) { tokenStream . setLongValue ( ( ( DateTimeFormatter ) extra ) . parseMillis ( value ) ) ; } } 
