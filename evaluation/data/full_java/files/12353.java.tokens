package org . gradle . util . internal ; import java . util . ArrayList ; import java . util . List ; public class ArgumentsSplitter { public static List < String > split ( String arguments ) { List < String > commandLineArguments = new ArrayList < String > ( ) ; Character currentQuote = null ; StringBuilder currentOption = new StringBuilder ( ) ; boolean hasOption = false ; for ( int index = <int> ; index < arguments . length ( ) ; index + + ) { char c = arguments . charAt ( index ) ; if ( currentQuote = = null & & Character . isWhitespace ( c ) ) { if ( hasOption ) { commandLineArguments . add ( currentOption . toString ( ) ) ; hasOption = false ; currentOption . setLength ( <int> ) ; } } else if ( currentQuote = = null & & ( c = = <str> | | c = = <str> ) ) { currentQuote = c ; hasOption = true ; } else if ( currentQuote ! = null & & c = = currentQuote ) { currentQuote = null ; } else { currentOption . append ( c ) ; hasOption = true ; } } if ( hasOption ) { commandLineArguments . add ( currentOption . toString ( ) ) ; } return commandLineArguments ; } } 
