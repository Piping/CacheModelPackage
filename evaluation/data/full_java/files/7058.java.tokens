package org . elasticsearch . rest . action . support ; import org . elasticsearch . action . support . master . AcknowledgedResponse ; import org . elasticsearch . common . logging . ESLogger ; import org . elasticsearch . common . xcontent . XContentBuilder ; import org . elasticsearch . common . xcontent . XContentBuilderString ; import org . elasticsearch . rest . BytesRestResponse ; import org . elasticsearch . rest . RestChannel ; import org . elasticsearch . rest . RestResponse ; import org . elasticsearch . rest . action . support . RestActionListener ; import org . elasticsearch . rest . action . support . RestBuilderListener ; import java . io . IOException ; import static org . elasticsearch . rest . RestStatus . OK ; public class AcknowledgedRestListener < T extends AcknowledgedResponse > extends RestBuilderListener < T > { public AcknowledgedRestListener ( RestChannel channel ) { super ( channel ) ; } @Override public RestResponse buildResponse ( T response , XContentBuilder builder ) throws Exception { builder . startObject ( ) . field ( Fields . ACKNOWLEDGED , response . isAcknowledged ( ) ) ; addCustomFields ( builder , response ) ; builder . endObject ( ) ; return new BytesRestResponse ( OK , builder ) ; } protected void addCustomFields ( XContentBuilder builder , T response ) throws IOException { } static final class Fields { static final XContentBuilderString ACKNOWLEDGED = new XContentBuilderString ( <str> ) ; } } 
