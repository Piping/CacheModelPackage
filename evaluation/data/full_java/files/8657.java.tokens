package org . elasticsearch . index . analysis ; import com . ibm . icu . text . Normalizer2 ; import org . apache . lucene . analysis . TokenStream ; import org . elasticsearch . common . inject . Inject ; import org . elasticsearch . common . inject . assistedinject . Assisted ; import org . elasticsearch . common . settings . Settings ; import org . elasticsearch . env . Environment ; import org . elasticsearch . index . IndexSettings ; public class IcuNormalizerTokenFilterFactory extends AbstractTokenFilterFactory { private final String name ; public IcuNormalizerTokenFilterFactory ( IndexSettings indexSettings , Environment environment , String name , Settings settings ) { super ( indexSettings , name , settings ) ; this . name = settings . get ( <str> , <str> ) ; } @Override public TokenStream create ( TokenStream tokenStream ) { return new org . apache . lucene . analysis . icu . ICUNormalizer2Filter ( tokenStream , Normalizer2 . getInstance ( null , name , Normalizer2 . Mode . COMPOSE ) ) ; } } 
