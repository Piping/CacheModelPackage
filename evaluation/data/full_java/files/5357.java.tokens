package org . elasticsearch . action . search ; import org . elasticsearch . action . ActionRequestBuilder ; import org . elasticsearch . action . support . IndicesOptions ; import org . elasticsearch . client . ElasticsearchClient ; public class MultiSearchRequestBuilder extends ActionRequestBuilder < MultiSearchRequest , MultiSearchResponse , MultiSearchRequestBuilder > { public MultiSearchRequestBuilder ( ElasticsearchClient client , MultiSearchAction action ) { super ( client , action , new MultiSearchRequest ( ) ) ; } public MultiSearchRequestBuilder add ( SearchRequest request ) { if ( request . indicesOptions ( ) = = IndicesOptions . strictExpandOpenAndForbidClosed ( ) & & request ( ) . indicesOptions ( ) ! = IndicesOptions . strictExpandOpenAndForbidClosed ( ) ) { request . indicesOptions ( request ( ) . indicesOptions ( ) ) ; } super . request . add ( request ) ; return this ; } public MultiSearchRequestBuilder add ( SearchRequestBuilder request ) { if ( request . request ( ) . indicesOptions ( ) = = IndicesOptions . strictExpandOpenAndForbidClosed ( ) & & request ( ) . indicesOptions ( ) ! = IndicesOptions . strictExpandOpenAndForbidClosed ( ) ) { request . request ( ) . indicesOptions ( request ( ) . indicesOptions ( ) ) ; } super . request . add ( request ) ; return this ; } public MultiSearchRequestBuilder setIndicesOptions ( IndicesOptions indicesOptions ) { request ( ) . indicesOptions ( indicesOptions ) ; return this ; } } 
