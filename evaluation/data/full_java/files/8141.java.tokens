package org . elasticsearch . index . mapper ; import org . apache . lucene . util . BytesRef ; import org . elasticsearch . test . ESTestCase ; import static org . hamcrest . Matchers . equalTo ; public class UidTests extends ESTestCase { public void testCreateAndSplitId ( ) { BytesRef createUid = Uid . createUidAsBytes ( <str> , <str> ) ; BytesRef [ ] splitUidIntoTypeAndId = Uid . splitUidIntoTypeAndId ( createUid ) ; assertThat ( <str> , equalTo ( splitUidIntoTypeAndId [ <int> ] . utf8ToString ( ) ) ) ; assertThat ( <str> , equalTo ( splitUidIntoTypeAndId [ <int> ] . utf8ToString ( ) ) ) ; BytesRef ref = new BytesRef ( createUid . length + <int> ) ; ref . offset = <int> ; ref . length = createUid . length ; System . arraycopy ( createUid . bytes , createUid . offset , ref . bytes , ref . offset , ref . length ) ; splitUidIntoTypeAndId = Uid . splitUidIntoTypeAndId ( ref ) ; assertThat ( <str> , equalTo ( splitUidIntoTypeAndId [ <int> ] . utf8ToString ( ) ) ) ; assertThat ( <str> , equalTo ( splitUidIntoTypeAndId [ <int> ] . utf8ToString ( ) ) ) ; } } 
