package org . eclipse . debug . ui . actions ; import org . eclipse . swt . widgets . Event ; import org . eclipse . jface . action . IAction ; import org . eclipse . jface . text . source . IVerticalRulerInfo ; import org . eclipse . ui . IActionDelegate2 ; import org . eclipse . ui . IEditorPart ; import org . eclipse . ui . texteditor . AbstractRulerActionDelegate ; import org . eclipse . ui . texteditor . ITextEditor ; public class RulerToggleBreakpointActionDelegate extends AbstractRulerActionDelegate implements IActionDelegate2 { private IEditorPart fEditor = null ; private ToggleBreakpointAction fDelegate = null ; @Override protected IAction createAction ( ITextEditor editor , IVerticalRulerInfo rulerInfo ) { fDelegate = new ToggleBreakpointAction ( editor , null , rulerInfo ) ; return fDelegate ; } @Override public void setActiveEditor ( IAction callerAction , IEditorPart targetEditor ) { if ( fEditor ! = null ) { if ( fDelegate ! = null ) { fDelegate . dispose ( ) ; fDelegate = null ; } } fEditor = targetEditor ; super . setActiveEditor ( callerAction , targetEditor ) ; } @Override public void init ( IAction action ) { } @Override public void dispose ( ) { if ( fDelegate ! = null ) { fDelegate . dispose ( ) ; } fDelegate = null ; fEditor = null ; } @Override public void runWithEvent ( IAction action , Event event ) { if ( fDelegate ! = null ) { fDelegate . runWithEvent ( event ) ; } } } 
