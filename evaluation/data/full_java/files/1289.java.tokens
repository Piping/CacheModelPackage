package org . apache . cassandra . utils . memory ; public class SlabPool extends MemtablePool { final boolean allocateOnHeap ; public SlabPool ( long maxOnHeapMemory , long maxOffHeapMemory , float cleanupThreshold , Runnable cleaner ) { super ( maxOnHeapMemory , maxOffHeapMemory , cleanupThreshold , cleaner ) ; this . allocateOnHeap = maxOffHeapMemory = = <int> ; } public MemtableAllocator newAllocator ( ) { return new SlabAllocator ( onHeap . newAllocator ( ) , offHeap . newAllocator ( ) , allocateOnHeap ) ; } public boolean needToCopyOnHeap ( ) { return ! allocateOnHeap ; } } 
