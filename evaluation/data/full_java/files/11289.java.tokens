package org . gradle . api . internal ; import org . gradle . api . internal . classpath . Module ; import org . gradle . api . internal . classpath . ModuleRegistry ; import org . gradle . api . internal . classpath . PluginModuleRegistry ; import org . gradle . internal . classpath . ClassPath ; import org . gradle . internal . classpath . DefaultClassPath ; import java . util . Arrays ; import static org . gradle . api . internal . artifacts . dsl . dependencies . DependencyFactory . ClassPathNotation . * ; public class DependencyClassPathProvider implements ClassPathProvider { private final ModuleRegistry moduleRegistry ; private final PluginModuleRegistry pluginModuleRegistry ; public DependencyClassPathProvider ( ModuleRegistry moduleRegistry , PluginModuleRegistry pluginModuleRegistry ) { this . moduleRegistry = moduleRegistry ; this . pluginModuleRegistry = pluginModuleRegistry ; } public ClassPath findClassPath ( String name ) { if ( name . equals ( GRADLE_API . name ( ) ) ) { ClassPath classpath = new DefaultClassPath ( ) ; for ( String moduleName : Arrays . asList ( <str> , <str> , <str> , <str> ) ) { for ( Module module : moduleRegistry . getModule ( moduleName ) . getAllRequiredModules ( ) ) { classpath = classpath . plus ( module . getClasspath ( ) ) ; } } for ( Module pluginModule : pluginModuleRegistry . getPluginModules ( ) ) { classpath = classpath . plus ( pluginModule . getClasspath ( ) ) ; } return classpath ; } if ( name . equals ( GRADLE_TEST_KIT . name ( ) ) ) { return moduleRegistry . getModule ( <str> ) . getImplementationClasspath ( ) ; } if ( name . equals ( LOCAL_GROOVY . name ( ) ) ) { return moduleRegistry . getExternalModule ( <str> ) . getClasspath ( ) ; } return null ; } } 
