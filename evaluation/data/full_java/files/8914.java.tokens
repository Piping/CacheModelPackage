package org . elasticsearch . index . store ; import org . elasticsearch . action . search . SearchResponse ; import org . elasticsearch . plugin . store . smb . SMBStorePlugin ; import org . elasticsearch . plugins . Plugin ; import org . elasticsearch . test . ESIntegTestCase ; import java . util . Collection ; import static org . hamcrest . Matchers . is ; abstract public class AbstractAzureFsTestCase extends ESIntegTestCase { @Override protected Collection < Class < ? extends Plugin > > nodePlugins ( ) { return pluginList ( SMBStorePlugin . class ) ; } public void testAzureFs ( ) { createIndex ( <str> ) ; long nbDocs = randomIntBetween ( <int> , <int> ) ; for ( long i = <int> ; i < nbDocs ; i + + ) { index ( <str> , <str> , <str> + i , <str> , <str> ) ; } refresh ( ) ; SearchResponse response = client ( ) . prepareSearch ( <str> ) . get ( ) ; assertThat ( response . getHits ( ) . totalHits ( ) , is ( nbDocs ) ) ; } } 
