package org . elasticsearch . index . translog ; import org . elasticsearch . common . io . stream . StreamInput ; import java . io . IOException ; @Deprecated public final class LegacyTranslogReader extends LegacyTranslogReaderBase { LegacyTranslogReader ( long generation , ChannelReference channelReference , long fileLength ) { super ( generation , channelReference , <int> , fileLength ) ; } @Override protected Translog . Operation read ( BufferedChecksumStreamInput in ) throws IOException { in . readInt ( ) ; Translog . Operation . Type type = Translog . Operation . Type . fromId ( in . readByte ( ) ) ; Translog . Operation operation = Translog . newOperationFromType ( type ) ; operation . readFrom ( in ) ; return operation ; } @Override protected ImmutableTranslogReader newReader ( long generation , ChannelReference channelReference , long firstOperationOffset , long length , int totalOperations ) { assert totalOperations = = - <int> : <str> + totalOperations ; assert firstOperationOffset = = <int> ; return new LegacyTranslogReader ( generation , channelReference , length ) ; } } 
