package org . elasticsearch . cluster . metadata ; import org . elasticsearch . Version ; import org . elasticsearch . common . settings . Settings ; import org . elasticsearch . test . ESTestCase ; import static org . hamcrest . Matchers . equalTo ; public class MetaDataTests extends ESTestCase { public void testIndexAndAliasWithSameName ( ) { IndexMetaData . Builder builder = IndexMetaData . builder ( <str> ) . settings ( Settings . builder ( ) . put ( IndexMetaData . SETTING_VERSION_CREATED , Version . CURRENT ) ) . numberOfShards ( <int> ) . numberOfReplicas ( <int> ) . putAlias ( AliasMetaData . builder ( <str> ) . build ( ) ) ; try { MetaData . builder ( ) . put ( builder ) . build ( ) ; fail ( <str> ) ; } catch ( IllegalStateException e ) { assertThat ( e . getMessage ( ) , equalTo ( <str> ) ) ; } } } 
