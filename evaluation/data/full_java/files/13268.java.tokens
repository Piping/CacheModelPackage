package org . gradle . integtests . fixtures . executer ; import org . apache . commons . io . FilenameUtils ; import org . gradle . test . fixtures . file . TestFile ; import java . io . File ; public class GradleBackedArtifactBuilder implements ArtifactBuilder { private final GradleExecuter executer ; private final TestFile rootDir ; public GradleBackedArtifactBuilder ( GradleExecuter executer , File rootDir ) { this . executer = executer ; this . rootDir = new TestFile ( rootDir ) ; } public TestFile sourceFile ( String path ) { return rootDir . file ( <str> , path ) ; } public TestFile resourceFile ( String path ) { return rootDir . file ( <str> , path ) ; } public void buildJar ( File jarFile ) { rootDir . file ( <str> ) . writelns ( <str> , <str> , String . format ( <str> , FilenameUtils . separatorsToUnix ( jarFile . getParent ( ) ) ) , String . format ( <str> , jarFile . getName ( ) ) , <str> ) ; executer . inDirectory ( rootDir ) . withTasks ( <str> , <str> ) . run ( ) ; } } 
