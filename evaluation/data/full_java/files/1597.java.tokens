package org . apache . cassandra . net ; import java . util . List ; import org . junit . Test ; import static org . junit . Assert . assertEquals ; public class MessagingServiceTest { private final MessagingService messagingService = MessagingService . test ( ) ; @Test public void testDroppedMessages ( ) { MessagingService . Verb verb = MessagingService . Verb . READ ; for ( int i = <int> ; i < <int> ; i + + ) messagingService . incrementDroppedMessages ( verb , i % <int> = = <int> ) ; List < String > logs = messagingService . getDroppedMessagesLogs ( ) ; assertEquals ( <int> , logs . size ( ) ) ; assertEquals ( <str> , logs . get ( <int> ) ) ; assertEquals ( <int> , ( int ) messagingService . getDroppedMessages ( ) . get ( verb . toString ( ) ) ) ; logs = messagingService . getDroppedMessagesLogs ( ) ; assertEquals ( <int> , logs . size ( ) ) ; for ( int i = <int> ; i < <int> ; i + + ) messagingService . incrementDroppedMessages ( verb , i % <int> = = <int> ) ; logs = messagingService . getDroppedMessagesLogs ( ) ; assertEquals ( <str> , logs . get ( <int> ) ) ; assertEquals ( <int> , ( int ) messagingService . getDroppedMessages ( ) . get ( verb . toString ( ) ) ) ; } } 
