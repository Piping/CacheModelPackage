package org . gradle . api . publication . maven . internal ; import com . google . common . collect . Sets ; import org . gradle . api . artifacts . PublishArtifact ; import org . gradle . api . artifacts . maven . MavenDeployment ; import java . util . HashSet ; import java . util . Set ; public class DefaultMavenDeployment implements MavenDeployment { private Set < PublishArtifact > attachedArtifacts ; private final PublishArtifact pomArtifact ; private final PublishArtifact mainArtifact ; public DefaultMavenDeployment ( PublishArtifact pomArtifact , PublishArtifact mainArtifact , Iterable < ? extends PublishArtifact > attachedArtifacts ) { this . pomArtifact = pomArtifact ; this . mainArtifact = mainArtifact ; this . attachedArtifacts = Sets . newLinkedHashSet ( attachedArtifacts ) ; } public void addArtifact ( PublishArtifact artifact ) { attachedArtifacts . add ( artifact ) ; } public PublishArtifact getPomArtifact ( ) { return pomArtifact ; } public Set < PublishArtifact > getArtifacts ( ) { Set < PublishArtifact > artifacts = new HashSet < PublishArtifact > ( ) ; artifacts . addAll ( attachedArtifacts ) ; if ( mainArtifact ! = null ) { artifacts . add ( mainArtifact ) ; } artifacts . add ( pomArtifact ) ; return artifacts ; } public PublishArtifact getMainArtifact ( ) { return mainArtifact ; } public Set < PublishArtifact > getAttachedArtifacts ( ) { return attachedArtifacts ; } } 
