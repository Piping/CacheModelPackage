package org . gradle . launcher . daemon . server . health ; import org . gradle . api . GradleException ; import static java . lang . String . format ; class DaemonStatus { public static final String EXPIRE_AT_PROPERTY = <str> ; static final int DEFAULT_EXPIRE_AT = <int> ; boolean isDaemonTired ( DaemonStats stats ) { String expireAt = System . getProperty ( EXPIRE_AT_PROPERTY ) ; int threshold = parseValue ( expireAt , DEFAULT_EXPIRE_AT ) ; return threshold ! = <int> & & stats . getMemoryUsed ( ) > <int> & & stats . getCurrentPerformance ( ) < = threshold ; } private static int parseValue ( String expireAt , int defaultValue ) { if ( expireAt = = null ) { return defaultValue ; } try { return Integer . parseInt ( expireAt ) ; } catch ( Exception e ) { throw new GradleException ( format ( <str> , EXPIRE_AT_PROPERTY , expireAt ) ) ; } } } 
