package org . elasticsearch . rest . action . support ; import org . elasticsearch . common . xcontent . StatusToXContent ; import org . elasticsearch . common . xcontent . XContentBuilder ; import org . elasticsearch . rest . BytesRestResponse ; import org . elasticsearch . rest . RestChannel ; import org . elasticsearch . rest . RestResponse ; public class RestStatusToXContentListener < Response extends StatusToXContent > extends RestResponseListener < Response > { public RestStatusToXContentListener ( RestChannel channel ) { super ( channel ) ; } @Override public final RestResponse buildResponse ( Response response ) throws Exception { return buildResponse ( response , channel . newBuilder ( ) ) ; } public final RestResponse buildResponse ( Response response , XContentBuilder builder ) throws Exception { builder . startObject ( ) ; response . toXContent ( builder , channel . request ( ) ) ; builder . endObject ( ) ; return new BytesRestResponse ( response . status ( ) , builder ) ; } } 
