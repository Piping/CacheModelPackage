package org . elasticsearch . rest . action . support ; import org . elasticsearch . common . xcontent . ToXContent ; import org . elasticsearch . common . xcontent . XContentBuilder ; import org . elasticsearch . rest . BytesRestResponse ; import org . elasticsearch . rest . RestChannel ; import org . elasticsearch . rest . RestResponse ; import org . elasticsearch . rest . RestStatus ; public final class RestToXContentListener < Response extends ToXContent > extends RestResponseListener < Response > { public RestToXContentListener ( RestChannel channel ) { super ( channel ) ; } @Override public final RestResponse buildResponse ( Response response ) throws Exception { return buildResponse ( response , channel . newBuilder ( ) ) ; } public final RestResponse buildResponse ( Response response , XContentBuilder builder ) throws Exception { builder . startObject ( ) ; response . toXContent ( builder , channel . request ( ) ) ; builder . endObject ( ) ; return new BytesRestResponse ( RestStatus . OK , builder ) ; } } 
