package com . google . common . base ; import com . google . caliper . Benchmark ; import com . google . common . base . Stopwatch ; import java . util . concurrent . TimeUnit ; public class StopwatchBenchmark { @Benchmark long stopwatch ( int reps ) { long total = <int> ; for ( int i = <int> ; i < reps ; i + + ) { Stopwatch s = Stopwatch . createStarted ( ) ; total + = s . elapsed ( TimeUnit . NANOSECONDS ) ; } return total ; } @Benchmark long manual ( int reps ) { long total = <int> ; for ( int i = <int> ; i < reps ; i + + ) { long start = System . nanoTime ( ) ; total + = ( System . nanoTime ( ) - start ) ; } return total ; } } 
