package org . nd4j . bytebuddy . arrays . retrieve . relative . novalue . noindex ; import net . bytebuddy . description . method . MethodDescription ; import net . bytebuddy . implementation . Implementation ; import net . bytebuddy . implementation . bytecode . ByteCodeAppender ; import net . bytebuddy . implementation . bytecode . StackManipulation ; import net . bytebuddy . implementation . bytecode . collection . ArrayAccess ; import net . bytebuddy . jar . asm . MethodVisitor ; import net . bytebuddy . pool . TypePool ; public class ArrayRetrieve implements ByteCodeAppender { private static TypePool typePool = TypePool . Default . ofClassPath ( ) ; @Override public Size apply ( MethodVisitor methodVisitor , Implementation . Context implementationContext , MethodDescription instrumentedMethod ) { StackManipulation store = ArrayAccess . of ( typePool . describe ( <str> ) . resolve ( ) ) . load ( ) ; StackManipulation . Size size = store . apply ( methodVisitor , implementationContext ) ; return new Size ( size . getMaximalSize ( ) , instrumentedMethod . getStackSize ( ) ) ; } } 
