package io . netty . handler . codec . serialization ; import java . io . PipedInputStream ; import java . io . PipedOutputStream ; import java . util . List ; import org . junit . Assert ; import org . junit . Test ; public class CompactObjectSerializationTest { @Test public void testInterfaceSerialization ( ) throws Exception { PipedOutputStream pipeOut = new PipedOutputStream ( ) ; PipedInputStream pipeIn = new PipedInputStream ( pipeOut ) ; CompactObjectOutputStream out = new CompactObjectOutputStream ( pipeOut ) ; CompactObjectInputStream in = new CompactObjectInputStream ( pipeIn , ClassResolvers . cacheDisabled ( null ) ) ; out . writeObject ( List . class ) ; Assert . assertSame ( List . class , in . readObject ( ) ) ; } }