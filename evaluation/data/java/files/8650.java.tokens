package org . eclipse . debug . internal . ui . sourcelookup ; import org . eclipse . debug . core . sourcelookup . ISourceContainer ; import org . eclipse . debug . core . sourcelookup . ISourceLookupDirector ; import org . eclipse . debug . core . sourcelookup . containers . DefaultSourceContainer ; import org . eclipse . jface . viewers . IStructuredSelection ; public class RestoreDefaultAction extends SourceContainerAction { private ISourceLookupDirector fDirector ; public RestoreDefaultAction ( ) { super ( SourceLookupUIMessages . sourceTab_defaultButton ) ; } @Override public void run ( ) { ISourceContainer [ ] containers = new ISourceContainer [ <int> ] ; containers [ <int> ] = new DefaultSourceContainer ( ) ; containers [ <int> ] . init ( fDirector ) ; getViewer ( ) . setEntries ( containers ) ; setEnabled ( false ) ; } public void setSourceLookupDirector ( ISourceLookupDirector director ) { fDirector = director ; } @Override protected boolean updateSelection ( IStructuredSelection selection ) { ISourceContainer [ ] containers = getViewer ( ) . getEntries ( ) ; if ( containers ! = null & & containers . length = = <int> ) { if ( containers [ <int> ] instanceof DefaultSourceContainer ) { return false ; } } return true ; } }