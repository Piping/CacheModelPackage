package org . apache . cassandra . metrics ; import org . junit . Test ; import static junit . framework . Assert . assertFalse ; public class LatencyMetricsTest { @Test public void testGetRecentLatency ( ) { final LatencyMetrics l = new LatencyMetrics ( <str> , <str> ) ; Runnable r = new Runnable ( ) { public void run ( ) { for ( int i = <int> ; i < <int> ; i + + ) { l . addNano ( <int> ) ; } } } ; new Thread ( r ) . start ( ) ; for ( int i = <int> ; i < <int> ; i + + ) { Double recent = l . latency . getOneMinuteRate ( ) ; assertFalse ( recent . equals ( Double . POSITIVE_INFINITY ) ) ; } } }