package org . gradle . model . internal . manage . schema . cache ; import java . lang . ref . WeakReference ; class SingleWeakClassSet extends WeakClassSet { private final WeakReference < Class < ? > > reference ; private final int hash ; SingleWeakClassSet ( Class < ? > clazz ) { this . reference = new WeakReference < Class < ? > > ( clazz ) ; this . hash = clazz . hashCode ( ) ; } @Override public boolean equals ( Object o ) { Class < ? > clazz = reference . get ( ) ; if ( clazz = = null ) { return false ; } if ( this = = o ) { return true ; } if ( o = = null | | getClass ( ) ! = o . getClass ( ) ) { return false ; } SingleWeakClassSet that = ( SingleWeakClassSet ) o ; return clazz . equals ( that . reference . get ( ) ) ; } @Override public int hashCode ( ) { return hash ; } @Override boolean isCollected ( ) { Class < ? > referent = reference . get ( ) ; return referent = = null ; } } 
