package org . eclipse . debug . internal . ui . sourcelookup ; import java . util . List ; import org . eclipse . debug . core . sourcelookup . ISourceContainer ; import org . eclipse . jface . action . IAction ; import org . eclipse . jface . viewers . IStructuredSelection ; import org . eclipse . ui . actions . SelectionListenerAction ; public class DownAction extends SourceContainerAction { public DownAction ( ) { super ( SourceLookupUIMessages . sourceTab_downButton ) ; } @Override public void run ( ) { List < ISourceContainer > targets = getOrderedSelection ( ) ; if ( targets . isEmpty ( ) ) { return ; } List < ISourceContainer > list = getEntriesAsList ( ) ; int bottom = list . size ( ) - <int> ; int index = <int> ; for ( ISourceContainer container : targets ) { index = list . indexOf ( container ) ; if ( index < bottom ) { bottom = index + <int> ; ISourceContainer temp = list . get ( bottom ) ; list . set ( bottom , container ) ; list . set ( index , temp ) ; } bottom = index ; } setEntries ( list ) ; } @Override protected boolean updateSelection ( IStructuredSelection selection ) { return ! selection . isEmpty ( ) & & ! isIndexSelected ( selection , getEntriesAsList ( ) . size ( ) - <int> ) & & getViewer ( ) . getTree ( ) . getSelection ( ) [ <int> ] . getParentItem ( ) = = null ; } }