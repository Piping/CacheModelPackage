package org . eclipse . debug . internal . core . sourcelookup . containers ; import org . eclipse . core . resources . IFolder ; import org . eclipse . core . resources . IWorkspace ; import org . eclipse . core . resources . ResourcesPlugin ; import org . eclipse . core . runtime . CoreException ; import org . eclipse . core . runtime . Path ; import org . eclipse . debug . core . sourcelookup . ISourceContainer ; import org . eclipse . debug . core . sourcelookup . containers . AbstractSourceContainerTypeDelegate ; import org . eclipse . debug . core . sourcelookup . containers . FolderSourceContainer ; import org . eclipse . debug . internal . core . sourcelookup . SourceLookupMessages ; import org . w3c . dom . Document ; import org . w3c . dom . Element ; import org . w3c . dom . Node ; public class FolderSourceContainerType extends AbstractSourceContainerTypeDelegate { @Override public String getMemento ( ISourceContainer container ) throws CoreException { FolderSourceContainer folderSourceContainer = ( FolderSourceContainer ) container ; Document document = newDocument ( ) ; Element element = document . createElement ( <str> ) ; element . setAttribute ( <str> , folderSourceContainer . getContainer ( ) . getFullPath ( ) . toString ( ) ) ; String nest = <str> ; if ( folderSourceContainer . isComposite ( ) ) { nest = <str> ; } element . setAttribute ( <str> , nest ) ; document . appendChild ( element ) ; return serializeDocument ( document ) ; } @Override public ISourceContainer createSourceContainer ( String memento ) throws CoreException { Node node = parseDocument ( memento ) ; if ( node . getNodeType ( ) = = Node . ELEMENT_NODE ) { Element element = ( Element ) node ; if ( <str> . equals ( element . getNodeName ( ) ) ) { String string = element . getAttribute ( <str> ) ; if ( string = = null | | string . length ( ) = = <int> ) { abort ( SourceLookupMessages . FolderSourceContainerType_10 , null ) ; } String nest = element . getAttribute ( <str> ) ; boolean nested = <str> . equals ( nest ) ; IWorkspace workspace = ResourcesPlugin . getWorkspace ( ) ; IFolder folder = workspace . getRoot ( ) . getFolder ( new Path ( string ) ) ; return new FolderSourceContainer ( folder , nested ) ; } abort ( SourceLookupMessages . FolderSourceContainerType_11 , null ) ; } abort ( SourceLookupMessages . FolderSourceContainerType_12 , null ) ; return null ; } } 
