package io . netty . handler . codec . socksx . v4 ; import io . netty . channel . embedded . EmbeddedChannel ; final class Socks4CommonTestUtils { private Socks4CommonTestUtils ( ) { } public static void writeMessageIntoEmbedder ( EmbeddedChannel embedder , Socks4Message msg ) { EmbeddedChannel out ; if ( msg instanceof Socks4CommandRequest ) { out = new EmbeddedChannel ( Socks4ClientEncoder . INSTANCE ) ; } else { out = new EmbeddedChannel ( Socks4ServerEncoder . INSTANCE ) ; } out . writeOutbound ( msg ) ; embedder . writeInbound ( out . readOutbound ( ) ) ; out . finish ( ) ; } }