package org . eclipse . debug . internal . ui . views . memory ; import org . eclipse . debug . ui . memory . IMemoryRenderingSite ; import org . eclipse . debug . ui . memory . IMemoryRenderingSynchronizationService ; import org . eclipse . jface . action . IAction ; import org . eclipse . jface . viewers . ISelection ; import org . eclipse . ui . IViewActionDelegate ; import org . eclipse . ui . IViewPart ; public class LinkRenderingPanesAction implements IViewActionDelegate { IMemoryRenderingSite fRenderingSite ; private MemoryViewSynchronizationService fMemSyncService ; @Override public void init ( IViewPart view ) { if ( view instanceof IMemoryRenderingSite ) { fRenderingSite = ( IMemoryRenderingSite ) view ; IMemoryRenderingSynchronizationService syncService = fRenderingSite . getSynchronizationService ( ) ; if ( syncService instanceof MemoryViewSynchronizationService ) fMemSyncService = ( MemoryViewSynchronizationService ) syncService ; } } @Override public void run ( IAction action ) { if ( fMemSyncService = = null ) return ; fMemSyncService . setEnabled ( ! fMemSyncService . isEnabled ( ) ) ; updateActionState ( action ) ; } private void updateActionState ( IAction action ) { if ( fMemSyncService = = null ) return ; if ( fMemSyncService . isEnabled ( ) ) action . setChecked ( true ) ; else action . setChecked ( false ) ; } @Override public void selectionChanged ( IAction action , ISelection selection ) { updateActionState ( action ) ; } }