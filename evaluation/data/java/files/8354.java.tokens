package org . eclipse . debug . internal . ui . views . memory . renderings ; import java . util . ArrayList ; import org . eclipse . jface . viewers . StructuredViewer ; import org . eclipse . swt . graphics . GC ; import org . eclipse . swt . printing . Printer ; import org . eclipse . swt . widgets . Table ; import org . eclipse . swt . widgets . TableItem ; public class AsyncPrintTableRenderingAction extends PrintTableRenderingAction { public AsyncPrintTableRenderingAction ( AbstractBaseTableRendering rendering , StructuredViewer viewer ) { super ( rendering , viewer ) ; } @Override protected void printTable ( TableItem [ ] itemList , GC printGC , Printer printer ) { Table table = null ; if ( itemList . length > <int> ) { table = itemList [ <int> ] . getParent ( ) ; int topIndex = table . getTopIndex ( ) ; int itemCount = table . getItemCount ( ) ; int numVisibleLines = Math . min ( ( table . getBounds ( ) . height / table . getItemHeight ( ) ) + <int> , itemCount - topIndex ) ; ArrayList < TableItem > items = new ArrayList < TableItem > ( ) ; for ( int i = topIndex ; i < topIndex + numVisibleLines ; i + + ) { if ( itemList [ i ] . getData ( ) ! = null ) { items . add ( itemList [ i ] ) ; } else { break ; } } super . printTable ( items . toArray ( new TableItem [ items . size ( ) ] ) , printGC , printer ) ; } } }