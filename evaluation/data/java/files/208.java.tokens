package com . netflix . hystrix . examples . basic ; import static org . junit . Assert . * ; import org . junit . Test ; import com . netflix . hystrix . HystrixCommand ; import com . netflix . hystrix . HystrixCommandGroupKey ; import com . netflix . hystrix . exception . HystrixRuntimeException ; public class CommandThatFailsFast extends HystrixCommand < String > { private final boolean throwException ; public CommandThatFailsFast ( boolean throwException ) { super ( HystrixCommandGroupKey . Factory . asKey ( <str> ) ) ; this . throwException = throwException ; } @Override protected String run ( ) { if ( throwException ) { throw new RuntimeException ( <str> ) ; } else { return <str> ; } } public static class UnitTest { @Test public void testSuccess ( ) { assertEquals ( <str> , new CommandThatFailsFast ( false ) . execute ( ) ) ; } @Test public void testFailure ( ) { try { new CommandThatFailsFast ( true ) . execute ( ) ; fail ( <str> ) ; } catch ( HystrixRuntimeException e ) { assertEquals ( <str> , e . getCause ( ) . getMessage ( ) ) ; e . printStackTrace ( ) ; } } } }