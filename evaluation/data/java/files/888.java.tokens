package org . gradle . language . base . internal . model ; import org . gradle . api . Action ; import org . gradle . model . Defaults ; import org . gradle . model . RuleSource ; import org . gradle . platform . base . BinarySpec ; import org . gradle . platform . base . ComponentSpec ; import org . gradle . platform . base . internal . BinarySpecInternal ; @SuppressWarnings ( <str> ) public class ComponentBinaryRules extends RuleSource { @Defaults void initializeBinarySourceSets ( final ComponentSpec component ) { component . getBinaries ( ) . withType ( BinarySpecInternal . class ) . beforeEach ( new Action < BinarySpecInternal > ( ) { @Override public void execute ( BinarySpecInternal binary ) { addComponentSourceSetsToBinaryInputs ( binary , component ) ; } private void addComponentSourceSetsToBinaryInputs ( BinarySpec binary , ComponentSpec component ) { binary . getInputs ( ) . addAll ( component . getSources ( ) . values ( ) ) ; } } ) ; } } 
