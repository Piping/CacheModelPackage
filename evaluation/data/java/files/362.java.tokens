package org . gradle . test . matchers ; import org . hamcrest . * ; public class UserAgentMatcher extends BaseMatcher { private final String applicationName ; private final String version ; public UserAgentMatcher ( String applicationName , String version ) { this . applicationName = applicationName ; this . version = version ; } public void describeTo ( Description description ) { description . appendValue ( expectedUserAgentString ( ) ) ; } @Factory public static Matcher matchesNameAndVersion ( String applicationName , String version ) { return new UserAgentMatcher ( applicationName , version ) ; } public boolean matches ( Object o ) { String testString = expectedUserAgentString ( ) ; return Matchers . equalTo ( testString ) . matches ( o ) ; } private String expectedUserAgentString ( ) { String javaVendor = System . getProperty ( <str> ) ; String javaVersion = System . getProperty ( <str> ) ; String javaVendorVersion = System . getProperty ( <str> ) ; String osName = System . getProperty ( <str> ) ; String osVersion = System . getProperty ( <str> ) ; String osArch = System . getProperty ( <str> ) ; return String . format ( <str> , applicationName , version , osName , osVersion , osArch , javaVendor , javaVersion , javaVendorVersion ) ; } } 
