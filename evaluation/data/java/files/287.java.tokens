package org . eclipse . core . internal . variables ; import java . net . URL ; import org . eclipse . core . runtime . CoreException ; import org . eclipse . core . runtime . IPath ; import org . eclipse . core . runtime . Path ; import org . eclipse . core . runtime . Platform ; import org . eclipse . core . variables . IDynamicVariable ; import org . eclipse . core . variables . IDynamicVariableResolver ; import org . eclipse . osgi . service . datalocation . Location ; public class EclipseHomeVariableResolver implements IDynamicVariableResolver { @Override public String resolveValue ( IDynamicVariable variable , String argument ) throws CoreException { Location installLocation = Platform . getInstallLocation ( ) ; if ( installLocation ! = null ) { URL url = installLocation . getURL ( ) ; if ( url ! = null ) { String file = url . getFile ( ) ; IPath path = Path . fromOSString ( file ) ; String osstr = path . toOSString ( ) ; if ( osstr . length ( ) ! = <int> ) { return osstr ; } if ( file . length ( ) ! = <int> ) { return file ; } } } return null ; } } 
