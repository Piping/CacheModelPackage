require <str> ok = true hdr = nil case when macro_defined? ( <str> , <str> ) vk_header = File . exist? ( <str> ) ? <str> : <str> vk_header = <str> if $nmake == <str> vk_header <str> when hdr = <str> . find { | h | have_header ( h ) } have_func ( <str> , hdr ) when have_header ( hdr = <str> ) <str> . each { | f | have_func ( f , hdr ) } else ok = false end if ok have_header ( <str> ) if hdr $defs << <str> create_makefile ( <str> ) { | conf | conf << <str> vk_header <str> } end 
