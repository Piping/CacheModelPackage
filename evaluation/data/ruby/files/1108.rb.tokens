require File . dirname ( __FILE__ ) + <str> require <str> class NormalizedMapTest < MiniTest :: Test extend PublicApiLinter lint_api Hash , Sass :: Util :: NormalizedMap def lint_instance Sass :: Util :: NormalizedMap . new end def test_normalized_map_errors_unless_explicitly_implemented assert Sass . tests_running assert_raise_message ( ArgumentError , <str> ) do Sass :: Util :: NormalizedMap . new . invert end end def test_normalized_map_does_not_error_when_released Sass . tests_running = false assert_equal ( { } , Sass :: Util :: NormalizedMap . new . invert ) ensure Sass . tests_running = true end def test_basic_lifecycle m = Sass :: Util :: NormalizedMap . new m [ <str> ] = <int> assert_equal [ <str> ] , m . keys assert_equal <int> , m [ <str> ] assert_equal <int> , m [ <str> ] assert m . has_key? ( <str> ) assert m . has_key? ( <str> ) assert_equal ( { <str> = > <int> } , m . as_stored ) assert_equal <int> , m . delete ( <str> ) assert ! m . has_key? ( <str> ) m [ <str> ] = <int> assert_equal ( { <str> = > <int> } , m . as_stored ) end def test_dup m = Sass :: Util :: NormalizedMap . new m [ <str> ] = <int> m2 = m . dup m . delete ( <str> ) assert ! m . has_key? ( <str> ) assert m2 . has_key? ( <str> ) end end 
