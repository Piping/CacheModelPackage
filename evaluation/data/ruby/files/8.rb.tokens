sw = <int> . <int> dw = <int> . <int> hdw = dw / <int> . <int> w = <int> . <int> h = <int> . <int> d = <int> . <int> ss = <str> rnd = srand ( ) while gets ( ) xr = - hdw ; y = h * <int> . <int> ; maxxl = - <int> s = <str> while xr < hdw x = xr * ( <int> + y ) - y * w / <int> i = ( x / ( <int> + h ) + sw / <int> ) if ( <int> < i && i < $_ . length ) c = $_ [ i , <int> ] . to_i else c = <int> end y = h - d * c xl = xr - w * y / ( <int> + y ) if xl < - hdw || xl > = hdw || xl < = maxxl tt = rand ( ss . length ) c = ss [ tt , <int> ] else c = s [ xl + hdw , <int> ] maxxl = xl end s += c xr += <int> end print ( s , <str> ) end 
