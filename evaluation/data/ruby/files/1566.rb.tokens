require <str> require <str> module ApplicationTests class MiddlewareStaticTest < ActiveSupport :: TestCase include ActiveSupport :: Testing :: Isolation include Rack :: Test :: Methods def setup build_app FileUtils . rm_rf <str> app_path <str> end def teardown teardown_app end test <str> do app_file <str> , <str> require <str> app_path <str> get <str> assert_not last_response . headers . has_key? ( <str> ) , <str> end test <str> do app_file <str> , <str> add_to_config <<- <str> CONFIG <str> <str> CONFIG require <str> app_path <str> get <str> assert_equal <str> , last_response . headers [ <str> ] assert_equal <str> , last_response . headers [ <str> ] end test <str> do app_file <str> , <str> require <str> app_path <str> get <str> assert_equal <str> , last_response . body end test <str> do app_file <str> , <str> add_to_config <str> require <str> app_path <str> get <str> assert_equal <str> , last_response . body end end end 
