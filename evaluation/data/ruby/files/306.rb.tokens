class DeleteUserService attr_accessor <str> def initialize ( current_user ) @current_user = current_user end def execute ( user ) if user . solo_owned_groups . present? user . errors [ <str> ] << <str> user else user . personal_projects . each do | project | :: Projects :: DestroyService . new ( project , current_user , <str> : true ) . pending_delete! end user . destroy end end end 
