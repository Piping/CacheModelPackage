require <str> require <str> class TestGemResolverLocalSpecification < Gem :: TestCase def setup super @set = Gem :: AvailableSet . new end def test_install specs = spec_fetcher do | fetcher | fetcher . gem <str> , <int> end source = Gem :: Source :: SpecificFile . new <str> spec = Gem :: Resolver :: LocalSpecification . new @set , specs [ <str> ] , source called = false spec . install ( { } ) do | installer | called = installer end assert_path_exists File . join @gemhome , <str> , <str> assert_kind_of Gem :: Installer , called end def test_installable_platform_eh b , b_gem = util_gem <str> , <int> do | s | s . platform = Gem :: Platform . new <str> end source = Gem :: Source :: SpecificFile . new b_gem b_spec = Gem :: Resolver :: InstalledSpecification . new @set , b , source assert b_spec . installable_platform? end end 
