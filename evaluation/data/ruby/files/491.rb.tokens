require File . expand_path ( <str> , __FILE__ ) require File . expand_path ( <str> , __FILE__ ) describe <str> do before <str> do ScratchPad . record [ ] @enum = EnumeratorSpecs :: Feed . new . to_enum ( <str> ) end it <str> do @enum . feed <str> @enum . next @enum . next @enum . next ScratchPad . recorded . should == [ <str> , nil ] end it <str> do @enum . next @enum . feed <str> @enum . next @enum . next ScratchPad . recorded . should == [ <str> , nil ] end it <str> do @enum . next @enum . feed <str> @enum . next @enum . feed <str> @enum . next ScratchPad . recorded . should == [ <str> , <str> ] end it <str> do @enum . feed ( <str> ) . should be_nil end it <str> do @enum . feed <str> @enum . next lambda { @enum . feed <str> } . should raise_error ( TypeError ) end it <str> do enum = Enumerator . new { | y | ScratchPad << y . yield } enum . next enum . feed <str> lambda { enum . next } . should raise_error ( StopIteration ) ScratchPad . recorded . should == [ <str> ] end end 
