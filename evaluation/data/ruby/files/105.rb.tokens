require <str> require <str> fnames = [ ] PTY . spawn ( <str> ) do | r_f , w_f , pid | w_f . sync = true $expect_verbose = false if ! ENV [ <str> ] . nil? username = ENV [ <str> ] elsif ! ENV [ <str> ] . nil? username = ENV [ <str> ] else username = <str> end r_f . expect ( <str> ) do w_f . puts ( $1 ? <str> : $2 ? <str> username <str> : <str> ) end r_f . expect ( <str> ) do w_f . print <str> end r_f . expect ( <str> ) do | output | for x in output [ <int> ] . split ( <str> ) if x =~ <str> then fnames . push $1 end end end begin w_f . print <str> rescue end end print <str> print fnames . sort . pop print <str> 
