require <str> class TestGemResolverInstalledSpecification < Gem :: TestCase def setup super @set = Gem :: Resolver :: CurrentSet . new end def test_initialize source_spec = util_spec <str> spec = Gem :: Resolver :: InstalledSpecification . new @set , source_spec assert_equal <str> , spec . name assert_equal Gem :: Version . new ( <int> ) , spec . version assert_equal Gem :: Platform :: RUBY , spec . platform end def test_install a = util_spec <str> spec = Gem :: Resolver :: InstalledSpecification . new @set , a called = <str> spec . install ( { } ) do | installer | called = installer end assert_nil called end def test_installable_platform_eh b , b_gem = util_gem <str> , <int> do | s | s . platform = Gem :: Platform . new <str> end source = Gem :: Source :: SpecificFile . new b_gem b_spec = Gem :: Resolver :: InstalledSpecification . new @set , b , source assert b_spec . installable_platform? end end 
