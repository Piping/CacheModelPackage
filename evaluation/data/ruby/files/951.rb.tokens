Puppet :: Parser :: Functions :: newfunction ( <str> , <str> = > - <int> , <str> = > <str> ) do | classes | scope = self classes = transform_and_assert_classnames ( classes . is_a? ( Array ) ? classes . flatten : [ classes ] ) containing_resource = scope . resource ( compiler . evaluate_classes ( classes , self , false ) || [ ] ) . each do | resource | if ! scope . catalog . edge? ( containing_resource , resource ) scope . catalog . add_edge ( containing_resource , resource ) end end end 
