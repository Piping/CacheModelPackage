require <str> require <str> require <str> require <str> require <str> module Bosh::Director::Core::Templates class CompressedRenderedJobTemplates def initialize ( path ) @path = path end def write ( rendered_templates ) Dir . mktmpdir do | dir | writer = RenderedTemplatesWriter . new writer . write ( rendered_templates , dir ) tar_gzipper = Bosh :: Director :: Core :: TarGzipper . new tar_gzipper . compress ( dir , <str> , @path ) end end def contents File . open ( @path , <str> ) end def sha1 Digest :: SHA1 . file ( @path ) . hexdigest end end end 
