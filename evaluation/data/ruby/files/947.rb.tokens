require <str> require <str> describe Puppet :: Network :: HTTP :: API :: CA :: V1 do let ( <str> ) { Puppet :: Network :: HTTP :: MemoryResponse . new } let ( <str> ) { <str> Puppet :: Network :: HTTP :: CA_URL_PREFIX <str> } let ( <str> ) { Puppet :: Network :: HTTP :: Route . path ( Regexp . new ( <str> Puppet :: Network :: HTTP :: CA_URL_PREFIX <str> ) ) . any . chain ( Puppet :: Network :: HTTP :: API :: CA :: V1 . routes ) } it <str> do Puppet :: SSL :: Certificate . indirection . stubs ( <str> ) . returns <str> request = Puppet :: Network :: HTTP :: Request . from_hash ( <str> = > <str> ca_url_prefix <str> , <str> = > { <str> = > <str> } , <str> = > { <str> = > <str> } ) ca_routes . process ( request , response ) expect ( response . code ) . to eq ( <int> ) end end 
