class Tinyproxy < Formula desc <str> homepage <str> url <str> sha256 <str> bottle do cellar <str> revision <int> sha256 <str> = > <str> sha256 <str> = > <str> sha256 <str> = > <str> end depends_on <str> = > <str> option <str> , <str> option <str> , <str> deprecated_option <str> = > <str> patch <str> do url <str> sha256 <str> end def install args = <str> prefix <str> var <str> etc <str> args << <str> if build . with? <str> args << <str> if build . with? <str> system <str> , * args inreplace [ <str> , <str> ] do | s | s . gsub! <str> , <str> end system <str> , <str> end def post_install ( var / <str> ) . mkpath ( var / <str> ) . mkpath end test do pid = fork do exec <str> sbin <str> end sleep <int> begin assert_match <str> , shell_output ( <str> ) ensure Process . kill ( <str> , pid ) Process . wait ( pid ) end end plist_options <str> = > <str> def plist ; <<- <str> EOS <str> . undent <str> EOS end end 
