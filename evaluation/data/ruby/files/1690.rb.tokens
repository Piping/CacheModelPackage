ActiveRecord :: Schema . define do enable_extension! ( <str> , ActiveRecord :: Base . connection ) create_table <str> , id : <str> , <str> : true do | t | t . string <str> end create_table <str> , id : <str> , <str> : true do | t | t . string <str> t . uuid <str> end create_table <str> , <str> : true do | t | t . date <str> , <str> : - > { <str> } t . date <str> , <str> : - > { <str> } t . date <str> , <str> : <str> t . datetime <str> , <str> : - > { <str> } t . datetime <str> , <str> : - > { <str> } t . datetime <str> , <str> : <str> t . column <str> , <str> , <str> : <str> t . string <str> , <str> : <int> , <str> : <str> t . text <str> , <str> : <str> t . bigint <str> , <str> : - > { <str> } t . text <str> , <str> : <str> end <str> . each do | table_name | drop_table table_name , <str> : true end execute <str> execute <str> execute <str> execute <str> execute <str> <str> . each do | seq_name | execute <str> seq_name <str> end execute << <str> _SQL <str> <str> _SQL execute << <str> _SQL <str> <str> _SQL execute << <str> _SQL <str> <str> _SQL begin execute << <str> _SQL <str> <str> _SQL rescue ActiveRecord :: StatementInvalid = > e if e . message =~ <str> execute <str> retry else raise e end end create_table <str> , <str> : true do | t | t . binary <str> , <str> : <int> t . text <str> , <str> : <int> end create_table <str> , <str> : true do | t | t . integer <str> , <str> : <int> , <str> : true t . decimal <str> , <str> : true , <str> : [ <int> . <int> , <int> . <int> ] end create_table <str> , <str> : true , id : false do | t | t . uuid <str> , <str> : true t . string <str> end end 
