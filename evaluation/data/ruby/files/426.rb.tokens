require <str> parser = OptionParser . new parser . on ( <str> ) { puts <str> } parser . on ( <str> ) { puts <str> } subparsers = Hash . new { | h , k | $stderr . puts <str> k <str> exit <int> } subparsers [ <str> ] = OptionParser . new . on ( <str> ) { puts <str> } subparsers [ <str> ] = OptionParser . new . on ( <str> ) { puts <str> } subparsers [ <str> ] = OptionParser . new . on ( <str> ) { puts <str> } parser . order! ( ARGV ) subparsers [ ARGV . shift ] . parse! ( ARGV ) unless ARGV . empty? 
