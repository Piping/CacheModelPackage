module Search class GlobalService attr_accessor <str> , <str> def initialize ( user , params ) @current_user , @params = user , params . dup end def execute group = Group . find_by ( id : params [ <str> ] ) if params [ <str> ] . present? projects = ProjectsFinder . new . execute ( current_user ) projects = projects . in_namespace ( group . id ) if group project_ids = projects . pluck ( <str> ) Gitlab :: SearchResults . new ( project_ids , params [ <str> ] ) end end end 
