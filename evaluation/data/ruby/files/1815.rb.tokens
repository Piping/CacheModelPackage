class SlackService class IssueMessage < BaseMessage attr_reader <str> attr_reader <str> attr_reader <str> attr_reader <str> attr_reader <str> attr_reader <str> attr_reader <str> attr_reader <str> attr_reader <str> def initialize ( params ) @user_name = params [ <str> ] [ <str> ] @project_name = params [ <str> ] @project_url = params [ <str> ] obj_attr = params [ <str> ] obj_attr = HashWithIndifferentAccess . new ( obj_attr ) @title = obj_attr [ <str> ] @issue_iid = obj_attr [ <str> ] @issue_url = obj_attr [ <str> ] @action = obj_attr [ <str> ] @state = obj_attr [ <str> ] @description = obj_attr [ <str> ] end def attachments return [ ] unless opened_issue? description_message end private def message <str> user_name <str> state <str> issue_link <str> project_link <str> title <str> end def opened_issue? action == <str> end def description_message [ { <str> : format ( description ) , <str> : attachment_color } ] end def project_link <str> project_name <str> project_url <str> end def issue_link <str> issue_iid <str> issue_url <str> end end end 
