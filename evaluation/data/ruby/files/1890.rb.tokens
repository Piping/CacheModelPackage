class Admin :: User < ActiveRecord :: Base class Coder def initialize ( default = { } ) @default = default end def dump ( o ) ActiveSupport :: JSON . encode ( o || @default ) end def load ( s ) s . present? ? ActiveSupport :: JSON . decode ( s ) : @default . clone end end belongs_to <str> store <str> , <str> : [ <str> ] , <str> : YAML store <str> , <str> = > [ <str> , <str> ] store_accessor <str> , <str> store <str> , <str> = > [ <str> ] store <str> , <str> = > [ <str> , <str> ] , <str> = > Coder . new store <str> , <str> = > [ <str> ] , <str> = > Coder . new def phone_number read_store_attribute ( <str> , <str> ) . gsub ( <str> , <str> ) end def phone_number = ( value ) write_store_attribute ( <str> , <str> , value && value . gsub ( <str> , <str> ) ) end def color super || <str> end def color = ( value ) value = <str> unless <str> . include? ( value ) super end end 
