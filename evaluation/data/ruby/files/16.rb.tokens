require <str> require <str> describe Puppet :: Provider :: Mount do before <str> do @mounter = Object . new @mounter . extend ( Puppet :: Provider :: Mount ) @name = <str> @resource = stub <str> @resource . stubs ( <str> ) . with ( <str> ) . returns ( @name ) @mounter . stubs ( <str> ) . returns ( @resource ) end describe Puppet :: Provider :: Mount , <str> do before <str> do @mounter . stubs ( <str> ) . with ( <str> ) . returns ( <str> ) end it <str> do @mounter . stubs ( <str> ) . returns ( nil ) @mounter . expects ( <str> ) @mounter . mount end it <str> do Facter . expects ( <str> ) . with ( <str> ) . returns <str> @mounter . stubs ( <str> ) . returns ( <str> ) @mounter . expects ( <str> ) . with <str> , <str> , <str> @mounter . mount end it <str> do Facter . expects ( <str> ) . with ( <str> ) . returns <str> @mounter . stubs ( <str> ) . returns ( <str> ) @mounter . expects ( <str> ) . with <str> @mounter . mount end it <str> do @mounter . stubs ( <str> ) . returns ( nil ) @mounter . expects ( <str> ) . with { | * ary | ary [ - <int> ] == @name } @mounter . mount end it <str> do @mounter . expects ( <str> ) @mounter . stubs ( <str> ) . returns ( nil ) @mounter . expects ( <str> ) . with ( <str> ) . returns ( <str> ) @mounter . expects ( <str> ) . with ( <str> = > <str> ) @mounter . mount end it <str> do @mounter . expects ( <str> ) @mounter . stubs ( <str> ) . returns ( nil ) @mounter . expects ( <str> ) . with ( <str> ) . returns ( <str> ) @mounter . expects ( <str> ) . with ( <str> = > <str> ) @mounter . mount end end describe Puppet :: Provider :: Mount , <str> do it <str> do @mounter . stubs ( <str> ) @resource . stubs ( <str> ) . with ( <str> ) . returns ( <str> ) @mounter . expects ( <str> ) . with ( <str> , <str> , @name ) @mounter . remount end it <str> do @mounter . stubs ( <str> ) @mounter . stubs ( <str> ) @resource . stubs ( <str> ) . with ( <str> ) . returns ( false ) Facter . expects ( <str> ) . with ( <str> ) . returns <str> @mounter . expects ( <str> ) . with ( <str> , <str> , @name ) @mounter . remount end it <str> do @mounter . stubs ( <str> ) @mounter . stubs ( <str> ) @resource . stubs ( <str> ) . with ( <str> ) . returns ( false ) Facter . expects ( <str> ) . with ( <str> ) . returns <str> @mounter . expects ( <str> ) @mounter . expects ( <str> ) @mounter . remount end it <str> do @resource . stubs ( <str> ) . with ( <str> ) . returns ( <str> ) @mounter . stubs ( <str> ) @mounter . expects ( <str> ) . with ( <str> ) @mounter . remount end end describe Puppet :: Provider :: Mount , <str> do before <str> do @mounter . stubs ( <str> ) . with ( <str> ) . returns ( <str> ) end it <str> do @mounter . expects ( <str> ) . with ( @name ) @mounter . unmount end it <str> do @mounter . expects ( <str> ) . with ( @name ) . returns true @mounter . expects ( <str> ) . with ( <str> ) . returns ( <str> ) @mounter . expects ( <str> ) . with ( <str> = > <str> ) @mounter . unmount end it <str> do @mounter . expects ( <str> ) . with ( @name ) . returns true @mounter . expects ( <str> ) . with ( <str> ) . returns ( <str> ) @mounter . expects ( <str> ) . with ( <str> = > <str> ) @mounter . unmount end end describe Puppet :: Provider :: Mount , <str> do it <str> do @mounter . expects ( <str> ) . with ( <str> ) . returns ( <str> ) @mounter . mounted? end it <str> do @mounter . stubs ( <str> ) . with ( <str> ) . returns ( <str> ) @mounter . mounted? == true end it <str> do @mounter . stubs ( <str> ) . with ( <str> ) . returns ( <str> ) @mounter . mounted? == true end it <str> do @mounter . stubs ( <str> ) . with ( <str> ) . returns ( <str> ) @mounter . mounted? == false end it <str> do @mounter . stubs ( <str> ) . with ( <str> ) . returns ( <str> ) @mounter . mounted? == false end end end 
