unless defined? ( :: JSON :: JSON_LOADED ) and :: JSON :: JSON_LOADED require <str> end require <str> class OpenStruct def self . json_create ( object ) new ( object [ <str> ] || object [ <str> ] ) end def as_json ( * ) klass = self . class . name klass . to_s . empty? and raise JSON :: JSONError , <str> { JSON . create_id = > klass , <str> = > table , } end def to_json ( * args ) as_json . to_json ( * args ) end end 
