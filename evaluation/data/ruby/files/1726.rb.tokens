require <str> class TestCommand < JekyllUnitTest context <str> do should <str> do cmd = Object . new mocks_expect ( cmd ) . to receive ( <str> ) . at_least ( <str> ) Command . add_build_options ( cmd ) end end context <str> do context <str> do should <str> do site = Object . new def site . process ; raise Jekyll :: Errors :: FatalException ; end error = assert_raises ( SystemExit ) { Command . process_site ( site ) } refute_equal <int> , error . status end end end end 
