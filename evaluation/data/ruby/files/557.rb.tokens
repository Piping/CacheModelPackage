require File . expand_path ( <str> , __FILE__ ) describe <str> do before <str> do @name = <str> @path = encode tmp ( @name ) , <str> touch @path end after <str> do @file . close if @file and ! @file . closed? rm_r @path end it <str> do @file = File . new @path @file . to_path . should be_an_instance_of ( String ) end it <str> do Dir . chdir ( tmp ( <str> ) ) do unorm = <str> @name <str> @file = File . new unorm @file . to_path . should == unorm end end it <str> do dir = File . basename tmp ( <str> ) path = <str> tmp ( <str> ) <str> dir <str> @name <str> @file = File . new path @file . to_path . should == path end it <str> do Dir . chdir ( tmp ( <str> ) ) do @file = File . new @name @file . to_path . should == @name end end it <str> do @file = File . new @path @file . to_path . encoding . should == Encoding . find ( <str> ) end end 
