require <str> require <str> module Bosh::Dev describe AutomatedDeployBuilder do describe <str> do it <str> do stemcell = instance_double ( <str> , <str> : double ( <str> , name : <str> ) , <str> : <str> , ) deployments_repository = instance_double ( <str> ) expect ( Bosh :: Dev :: DeploymentsRepository ) . to receive ( <str> ) . with ( ENV , logger , kind_of ( Hash ) ) . and_return ( deployments_repository ) deployment_account = instance_double ( <str> ) expect ( Bosh :: Dev :: Aws :: DeploymentAccount ) . to receive ( <str> ) . with ( <str> , <str> , deployments_repository , ) . and_return ( deployment_account ) artifacts_downloader = instance_double ( <str> ) expect ( Bosh :: Dev :: ArtifactsDownloader ) . to receive ( <str> ) . with ( be_an_instance_of ( Bosh :: Dev :: DownloadAdapter ) , be_a_kind_of ( Logging :: Logger ) , ) . and_return ( artifacts_downloader ) s3_gem_bosh_cmd = instance_double ( <str> ) expect ( Bosh :: Dev :: S3GemBoshCmd ) . to receive ( <str> ) . with ( <str> , be_a_kind_of ( Logging :: Logger ) ) . and_return ( s3_gem_bosh_cmd ) bosh_cli_session = instance_double ( <str> ) expect ( Bosh :: Dev :: BoshCliSession ) . to receive ( <str> ) . with ( s3_gem_bosh_cmd ) . and_return ( bosh_cli_session ) automated_deploy = instance_double ( <str> ) expect ( Bosh :: Dev :: AutomatedDeploy ) . to receive ( <str> ) . with ( stemcell , deployment_account , artifacts_downloader , bosh_cli_session , ) . and_return ( automated_deploy ) builder = described_class . new ( stemcell , <str> , <str> , ) expect ( builder . build ) . to eq ( automated_deploy ) end end end end 
