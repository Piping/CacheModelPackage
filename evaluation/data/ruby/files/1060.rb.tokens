require <str> class Nomad < Formula desc <str> homepage <str> url <str> , <str> = > <str> , <str> = > <str> head <str> bottle do cellar <str> sha256 <str> = > <str> sha256 <str> = > <str> sha256 <str> = > <str> end devel do url <str> , <str> = > <str> , <str> = > <str> version <str> end depends_on <str> = > <str> go_resource <str> do url <str> , <str> = > <str> end def install contents = Dir [ <str> ] gopath = buildpath / <str> ( gopath / <str> ) . install contents ENV [ <str> ] = gopath ENV . prepend_create_path <str> , gopath / <str> Language :: Go . stage_deps resources , gopath / <str> cd gopath / <str> do system <str> , <str> system <str> , <str> bin . install <str> end end test do begin pid = fork do exec <str> bin <str> , <str> , <str> end sleep <int> ENV . append <str> , <str> system <str> bin <str> , <str> ensure Process . kill ( <str> , pid ) end end end 
