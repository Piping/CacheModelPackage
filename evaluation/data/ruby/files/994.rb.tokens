require <str> require <str> require <str> module Bosh::Dev describe ReleaseCreator do include FakeFS :: SpecHelpers subject { described_class . new ( cli_session ) } let ( <str> ) { instance_double ( <str> ) } describe <str> do before { FileUtils . mkdir_p ( <str> ) } create_release_output = <<- <str> OUTPUT <str> <str> OUTPUT it <str> do old_current_dir = Dir . pwd allow ( cli_session ) . to receive ( <str> ) . with ( <str> ) do @current_dir = Dir . pwd create_release_output end subject . create_final expect ( @current_dir ) . to eq ( File . join ( old_current_dir , <str> ) ) end it <str> do expect ( cli_session ) . to receive ( <str> ) . with ( <str> ) . ordered expect ( cli_session ) . to receive ( <str> ) . with ( <str> ) . ordered . and_return ( create_release_output ) expect ( subject . create_final ) . to eq ( <str> ) end end describe <str> do before { FileUtils . mkdir_p ( <str> ) } create_release_output = <<- <str> OUTPUT <str> <str> OUTPUT it <str> do old_current_dir = Dir . pwd allow ( cli_session ) . to receive ( <str> ) . with ( <str> ) do @current_dir = Dir . pwd create_release_output end subject . create_dev expect ( @current_dir ) . to eq ( File . join ( old_current_dir , <str> ) ) end it <str> do expect ( cli_session ) . to receive ( <str> ) . with ( <str> ) . and_return ( create_release_output ) expect ( subject . create_dev ) . to eq ( <str> ) end end end end 
