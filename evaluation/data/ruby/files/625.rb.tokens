require <str> module SpecInfra::Backend describe Exec do subject ( <str> ) { described_class . instance } describe <str> do context <str> do before { allow ( exec ) . to receive ( <str> ) . and_return ( nil ) } it <str> do expect ( exec ) . to receive ( <str> ) . with ( <str> ) exec . run_command ( <str> ) end end context <str> do before { allow ( exec ) . to receive ( <str> ) . and_return ( <str> ) } it <str> do chroot_command = <str> expect ( exec ) . to receive ( <str> ) . with ( chroot_command ) . and_return ( <str> ) exec . run_command ( <str> ) end it <str> do allow ( exec ) . to receive ( <str> ) . and_return ( <str> ) result = exec . run_command ( <str> ) expect ( result . exit_status ) . to eq ( <int> ) end end end end end 
