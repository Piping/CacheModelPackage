Shindo . tests ( <str> , [ <str> , <str> , <str> ] ) do service = Fog :: Compute . new ( <str> = > <str> , <str> = > <str> ) @base_image_id = ENV [ <str> ] || <str> tests ( <str> ) do @server_name = <str> @server_id = nil data = service . create_server ( @server_name , <int> , @base_image_id ) . body [ <str> ] @server_id = data [ <str> ] tests ( <str> @server_id <str> ) . succeeds do service . add_security_group ( @server_id , <str> ) end tests ( <str> @server_id <str> ) . succeeds do service . remove_security_group ( @server_id , <str> ) end service . delete_server ( @server_id ) end tests ( <str> ) do tests ( <str> ) . raises ( Fog :: Compute :: HPV2 :: NotFound ) do service . add_security_group ( <int> , <str> ) end tests ( <str> ) . raises ( Fog :: Compute :: HPV2 :: NotFound ) do service . remove_security_group ( <int> , <str> ) end end end 
