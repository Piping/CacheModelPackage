class Publisher attr_accessor <str> , <str> , <str> , <str> , <str> def initialize ( user , opts = { } ) self . user = user self . open = opts [ <str> ] self . prefill = opts [ <str> ] self . public = opts [ <str> ] self . explain = opts [ <str> ] end def text formatted_message end def open? self . open end def public? self . public end def explain? self . explain end private def formatted_message if self . prefill . present? sm = StatusMessage . new ( <str> = > self . prefill ) Diaspora :: Mentionable . format ( sm . raw_message , sm . mentioned_people , <str> : true ) end end end 
