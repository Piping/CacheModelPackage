require <str> require <str> class ObjectInstanceVariableTest < ActiveSupport :: TestCase def setup @source , @dest = Object . new , Object . new @source . instance_variable_set ( <str> , <str> ) @source . instance_variable_set ( <str> , <str> ) end def test_instance_variable_names assert_equal <str> , @source . instance_variable_names . sort end def test_instance_values assert_equal ( { <str> = > <str> , <str> = > <str> } , @source . instance_values ) end def test_instance_exec_passes_arguments_to_block assert_equal <str> , <str> . instance_exec ( <str> ) { | v | [ self , v ] } end def test_instance_exec_with_frozen_obj assert_equal <str> , <str> . freeze . instance_exec ( <str> ) { | v | [ reverse , v ] } end def test_instance_exec_nested assert_equal <str> , <str> . instance_exec ( <str> ) { | arg | [ arg ] + instance_exec ( <str> ) { | v | [ reverse , v ] } } end end 
