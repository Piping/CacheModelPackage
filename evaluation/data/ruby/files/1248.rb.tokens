require File . expand_path ( <str> , __FILE__ ) require File . expand_path ( <str> , __FILE__ ) describe <str> do it <str> do x = Hash . new Hash . try_convert ( x ) . should equal ( x ) end it <str> do x = HashSpecs :: MyHash . new Hash . try_convert ( x ) . should equal ( x ) end it <str> do Hash . try_convert ( Object . new ) . should be_nil end it <str> do obj = mock ( <str> ) obj . should_receive ( <str> ) . and_return ( nil ) Hash . try_convert ( obj ) . should be_nil end it <str> do x = Hash . new obj = mock ( <str> ) obj . should_receive ( <str> ) . and_return ( x ) Hash . try_convert ( obj ) . should equal ( x ) end it <str> do x = HashSpecs :: MyHash . new obj = mock ( <str> ) obj . should_receive ( <str> ) . and_return ( x ) Hash . try_convert ( obj ) . should equal ( x ) end it <str> do obj = mock ( <str> ) obj . should_receive ( <str> ) . and_return ( Object . new ) lambda { Hash . try_convert obj } . should raise_error ( TypeError ) end it <str> do obj = mock ( <str> ) obj . should_receive ( <str> ) . and_raise ( RuntimeError ) lambda { Hash . try_convert obj } . should raise_error ( RuntimeError ) end end 
