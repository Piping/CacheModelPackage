class Onepass < Formula desc <str> homepage <str> url <str> sha256 <str> head <str> revision <int> bottle do cellar <str> revision <int> sha256 <str> = > <str> sha256 <str> = > <str> sha256 <str> = > <str> end depends_on <str> if MacOS . version < = <str> depends_on <str> = > <str> depends_on <str> resource <str> do url <str> sha256 <str> end resource <str> do url <str> sha256 <str> end resource <str> do url <str> sha256 <str> end def install ENV . prepend_create_path <str> , libexec / <str> resources . each do | r | r . stage do inreplace <str> , <str> , <str> Formula [ <str> ] . opt_prefix <str> if r . name == <str> system <str> , * Language :: Python . setup_install_args ( libexec / <str> ) end end ENV . prepend_create_path <str> , libexec / <str> system <str> , * Language :: Python . setup_install_args ( libexec ) bin . install Dir [ <str> libexec <str> ] bin . env_script_all_files ( libexec / <str> , <str> = > ENV [ <str> ] ) ( share + <str> ) . install Dir [ <str> ] end test do assert_equal <str> , <str> bin <str> share <str> . strip assert_equal <int> , $? . exitstatus end end 
