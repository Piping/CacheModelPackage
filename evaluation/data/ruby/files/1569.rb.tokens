module Puppet::Pops::Types module TypeAsserter def self . assert_assignable ( subject , expected_type , type_to_check ) report_type_mismatch ( subject , expected_type , type_to_check ) unless expected_type . assignable? ( type_to_check ) type_to_check end def self . assert_instance_of ( subject , expected_type , value , nil_ok = false ) unless value . nil? && nil_ok report_type_mismatch ( subject , expected_type , TypeCalculator . singleton . infer_set ( value ) . generalize ) unless expected_type . instance? ( value ) end value end def self . report_type_mismatch ( subject , expected_type , actual_type ) raise TypeAssertionError . new ( <str> subject <str> expected_type <str> actual_type <str> , expected_type , actual_type ) end private_class_method <str> end end 
