module Puppet::Util::Package def versioncmp ( version_a , version_b ) vre = <str> ax = version_a . scan ( vre ) bx = version_b . scan ( vre ) while ( ax . length > <int> && bx . length > <int> ) a = ax . shift b = bx . shift if ( a == b ) then next elsif ( a == <str> && b == <str> ) then next elsif ( a == <str> ) then return - <int> elsif ( b == <str> ) then return <int> elsif ( a == <str> && b == <str> ) then next elsif ( a == <str> ) then return - <int> elsif ( b == <str> ) then return <int> elsif ( a =~ <str> && b =~ <str> ) then if ( a =~ <str> or b =~ <str> ) then return a . to_s . upcase < = > b . to_s . upcase end return a . to_i < = > b . to_i else return a . upcase < = > b . upcase end end version_a < = > version_b ; end module_function <str> end 
