require_relative <str> module DTrace class TestObjectCreateStart < TestCase def test_object_create_start trap_probe ( probe , <str> ) { | _ , rbfile , saw | saw = saw . map ( & <str> ) . find_all { | _ , file , _ | file == rbfile } assert_equal <int> , saw . length } end def test_object_create_start_name trap_probe ( probe , <str> ) { | _ , rbfile , saw | saw = saw . map ( & <str> ) . find_all { | klass , file , line | file == rbfile } assert_equal ( <str> , saw . map ( & <str> ) ) assert_equal ( [ rbfile ] , saw . map { | line | line [ <int> ] } ) assert_equal ( [ <str> ] , saw . map { | line | line [ <int> ] } ) } end private def probe <<- <str> eoprobe <str> <str> eoprobe end end end if defined? ( DTrace :: TestCase ) 
