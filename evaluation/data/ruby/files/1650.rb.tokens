require <str> require <str> describe PostActionCreator do let ( <str> ) { Fabricate ( <str> ) } let ( <str> ) { Fabricate ( <str> ) } let ( <str> ) { PostActionType . types [ <str> ] } describe <str> do it <str> do expect { PostActionCreator . new ( user , post ) . perform ( like_type_id ) } . to change { PostAction . count } . by ( <int> ) expect ( PostAction . find_by ( <str> : user , <str> : post , <str> : like_type_id ) ) . to be_present end it <str> do expect { PostActionCreator . new ( user , nil ) . perform ( like_type_id ) } . to raise_error ( Discourse :: InvalidAccess ) end end end 
