module Gitlab module Metrics module System if File . exist? ( <str> ) def self . memory_usage mem = <int> match = File . read ( <str> ) . match ( <str> ) if match and match [ <int> ] mem = match [ <int> ] . to_f * <int> end mem end def self . file_descriptor_count Dir . glob ( <str> ) . length end else def self . memory_usage <int> . <int> end def self . file_descriptor_count <int> end end end end end 
